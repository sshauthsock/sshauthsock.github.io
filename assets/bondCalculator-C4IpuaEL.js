import{a as M,c as k,h as I,s as h}from"./index-MvYk2PFn.js";import{b,a as x,c as w}from"./utils-CHsLvtYz.js";import{a as P,s as A}from"./resultModal-CV8Rcakm.js";import{c as N,r as F}from"./statFilter-_wJaYcst.js";import{i as m}from"./constants-r0ry0Tln.js";import"./supportMessage-C6tx5lCv.js";let e={isPressed:!1,intervalId:null,timeoutId:null,hintElement:null,bridgeElement:null,hintHovered:!1,button:null,spiritName:null,action:null,mouseDownTime:null,touchStartTime:null,touchMoveHandler:null,ignoreMouseUp:!1};const r={currentCategory:"ìˆ˜í˜¸",selectedSpirits:new Map,groupByInfluence:!1,currentStatFilter:""},o={},s={};function O(){return`
    <div class="sub-tabs" id="bondCategoryTabs">
        <div class="tab active" data-category="ìˆ˜í˜¸">ìˆ˜í˜¸</div>
        <div class="tab" data-category="íƒ‘ìŠ¹">íƒ‘ìŠ¹</div>
        <div class="tab" data-category="ë³€ì‹ ">ë³€ì‹ </div>
    </div>

    <div class="view-toggle-container">
        <label class="toggle-switch">
            <input type="checkbox" id="influenceToggle">
            <span class="slider round"></span>
        </label>
        <span class="toggle-label">ì„¸ë ¥ë³„ ë³´ê¸°</span>
        <div class="stat-filter-container"></div>
        <a href="https://open.kakao.com/o/sUSXtUYe" target="_blank" class="kakao-gift-btn">
            <img src="assets/img/gift.png" alt="ì¹´ì¹´ì˜¤ ì„ ë¬¼í•˜ê¸° ì•„ì´ì½˜"
                style="height: 20px; vertical-align: middle; margin-right: 5px;">
            ê°œë°œìì—ê²Œ ì¹´í†¡ ì„ ë¬¼í•˜ê¸°
        </a>
    </div>
    <div class="bond-container">
        <div class="main-content">
            <div class="left-panel">
                <div class="section-header">
                    <h2 class="section-title">ì „ì²´ í™˜ìˆ˜ ëª©ë¡</h2>
                    <div class="selection-controls">
                        <button id="selectAllBtn" class="btn btn-sm btn-primary">ì „ì²´ì„ íƒ</button>
                        <button id="clearAllSelectionBtn" class="btn btn-sm btn-danger">ì „ì²´í•´ì œ</button>
                    </div>
                </div>
                <div id="spiritListContainer" class="spirit-selection"></div>
            </div>
            <div class="right-panel">
                <div class="selected-spirits-container">
                    <div class="selected-spirits-header">
                        <h3 class="selection-title">ì„ íƒëœ í™˜ìˆ˜ (<span id="selectedCount">0</span>)</h3>
                    </div>
                    <div id="selectedSpiritsList" class="selected-spirits"></div>
                    <div class="header-controls">
                        <div class="level-batch-control">
                            <label>ì¼ê´„ ë ˆë²¨:</label>
                            <input type="number" id="batchLevelInput" min="0" max="25" value="0">
                            <button id="applyBatchLevelBtn" class="btn btn-sm btn-primary">ì ìš©</button>
                        </div>
                        <div class="calculate-btn-small">
                            <button id="findOptimalBtn" class="btn btn-warning">ìµœì  ì¡°í•© ì°¾ê¸°</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>`}function v(){y(),q(),g()}function y(){let l=S();r.currentStatFilter&&(l=l.filter(n=>x(n,r.currentStatFilter))),F({container:o.spiritListContainer,spirits:l,onSpiritClick:$,getSpiritState:n=>{const{hasFullRegistration:t,hasFullBind:i,hasLevel25Bind:a}=w(n);return{selected:r.selectedSpirits.has(n.name),registrationCompleted:t,bondCompleted:i,level25BindAvailable:a}},groupByInfluence:r.groupByInfluence})}function S(){const l=i=>i?parseInt(i.match(/\d+/)?.[0]||"999",10):999,t=(Array.isArray(h.allSpirits)?h.allSpirits:[]).filter(i=>i.type===r.currentCategory);return t.sort((i,a)=>{const c={ì „ì„¤:1,ë¶ˆë©¸:2},d=c[i.grade]||99,p=c[a.grade]||99;return d!==p?d-p:l(i.image)-l(a.image)}),t}function q(){const l=o.selectedSpiritsList;l.innerHTML="";const n=[...r.selectedSpirits.values()].filter(a=>a.type===r.currentCategory);o.selectedCount.textContent=n.length;const t=document.getElementById("mobileSelectedCount");t&&(t.textContent=n.length);const i=document.getElementById("selectedSpiritsMobile");if(i&&(i.innerHTML=""),n.length===0){l.innerHTML="<p class='text-center text-sm text-light mt-lg'>ì„ íƒëœ í™˜ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>",i&&(i.innerHTML="<p class='text-center text-sm text-light mt-lg'>ì„ íƒëœ í™˜ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>");return}n.forEach(a=>{const c=b("div","selected-spirit-card");if(c.dataset.spiritName=a.name,c.innerHTML=`
        <button class="remove-spirit" data-action="remove" title="ì„ íƒ í•´ì œ">Ã—</button>
        <div class="selected-spirit-header">
            <img src="${a.image}" alt="${a.name}">
            <div class="spirit-info">
                <div class="spirit-name">${a.name}</div>
            </div>
        </div>
        <div class="spirit-level-control">
            ${m(a.name)?`<div class="fixed-level-control">
                <span class="fixed-level-label">25 (ê³ ì •)</span>
              </div>`:`<button class="level-btn minus-btn" data-action="level-down">-</button>
              <input type="number" class="level-input" min="0" max="25" value="${a.level}">
              <button class="level-btn plus-btn" data-action="level-up">+</button>`}
        </div>
        `,l.appendChild(c),i){const d=b("div","selected-spirit-card");d.dataset.spiritName=a.name,d.innerHTML=c.innerHTML,i.appendChild(d)}})}function g(){localStorage.setItem("bondCalculatorState",JSON.stringify({category:r.currentCategory,spirits:[...r.selectedSpirits.values()],groupByInfluence:r.groupByInfluence,currentStatFilter:r.currentStatFilter}))}function D(){const l=localStorage.getItem("bondCalculatorState");if(l)try{const n=JSON.parse(l);r.currentCategory=n.category||"ìˆ˜í˜¸",r.selectedSpirits=new Map((n.spirits||[]).map(t=>[t.name,t])),r.groupByInfluence=n.groupByInfluence||!1,r.currentStatFilter=n.currentStatFilter||""}catch(n){console.error("Error loading state from storage, resetting:",n),r.selectedSpirits=new Map,r.groupByInfluence=!1,r.currentStatFilter=""}}function R(){const l=o.container.querySelector(".stat-filter-container"),n=Array.isArray(h.allSpirits)?h.allSpirits:[];N(l,n,a=>{r.currentStatFilter=a,y()});const t=o.container.querySelector("#statFilter"),i=o.container.querySelector(".clear-filter-btn");t&&(t.value=r.currentStatFilter),i&&(i.style.display=r.currentStatFilter?"inline-flex":"none")}function U(){const l=document.getElementById("panelToggleContainer"),n=l?l.querySelector(".right-panel"):null;n&&(n.classList.toggle("collapsed"),l.querySelector(".toggle-icon").textContent=n.classList.contains("collapsed")?"â–²":"â–¼")}function W(){L("mobileBatchLevel")}function X(){ae("mobileBatchLevel")}function Y(){T()}function z(){s.containerClickHandler=V,o.container.addEventListener("click",s.containerClickHandler),s.containerMouseDownHandler=H,s.globalMouseUpHandler=E,s.containerTouchStartHandler=G,s.containerTouchEndHandler=J,s.globalTouchEndHandler=_,o.container.addEventListener("mousedown",s.containerMouseDownHandler),o.container.addEventListener("touchstart",s.containerTouchStartHandler,{passive:!1}),o.container.addEventListener("touchend",s.containerTouchEndHandler,{passive:!1}),document.addEventListener("mouseup",s.globalMouseUpHandler),document.addEventListener("touchend",s.globalTouchEndHandler,{passive:!1}),o.container.addEventListener("mouseleave",K),s.bondCategoryTabsClickHandler=c=>{const p=c.target.closest(".tab");p&&!p.classList.contains("active")&&(o.bondCategoryTabs.querySelector(".tab.active")?.classList.remove("active"),p.classList.add("active"),r.currentCategory=p.dataset.category,v())},o.bondCategoryTabs.addEventListener("click",s.bondCategoryTabsClickHandler),s.influenceToggleChangeHandler=ne,o.influenceToggle.addEventListener("change",s.influenceToggleChangeHandler),s.selectedSpiritsListInputHandler=B,o.selectedSpiritsList.addEventListener("input",s.selectedSpiritsListInputHandler),s.selectAllClickHandler=ie,o.selectAllBtn.addEventListener("click",s.selectAllClickHandler),s.clearAllSelectionClickHandler=le,o.clearAllSelectionBtn.addEventListener("click",s.clearAllSelectionClickHandler),s.applyBatchLevelClickHandler=()=>L("batchLevelInput"),o.applyBatchLevelBtn.addEventListener("click",s.applyBatchLevelClickHandler),s.findOptimalClickHandler=T,o.findOptimalBtn.addEventListener("click",s.findOptimalClickHandler);const l=document.getElementById("panelToggleBtn"),n=document.getElementById("selectedSpiritsMobile"),t=document.getElementById("applyMobileBatchLevelBtn"),i=document.getElementById("setMaxMobileBatchLevelBtn"),a=document.getElementById("findOptimalMobileBtn");l&&(s.panelToggleBtnClickHandler=U,l.addEventListener("click",s.panelToggleBtnClickHandler)),n&&(s.mobileSelectedSpiritsListInputHandler=B,n.addEventListener("input",s.mobileSelectedSpiritsListInputHandler),n.addEventListener("touchstart",s.containerTouchStartHandler,{passive:!1}),n.addEventListener("mousedown",s.containerMouseDownHandler)),t&&(s.applyMobileBatchLevelClickHandler=W,t.addEventListener("click",s.applyMobileBatchLevelClickHandler)),i&&(s.setMaxMobileBatchLevelClickHandler=X,i.addEventListener("click",s.setMaxMobileBatchLevelClickHandler)),a&&(s.findOptimalMobileClickHandler=Y,a.addEventListener("click",s.findOptimalMobileClickHandler))}function $(l){if(!l)return;const n=l.name;if(r.selectedSpirits.has(n))r.selectedSpirits.delete(n);else{const t=m(n)?25:0;r.selectedSpirits.set(n,{...l,level:t})}v()}function V(l){const n=l.target;if(e.isPressed)return;const t=n.closest(".selected-spirit-card");if(t){const i=t.dataset.spiritName,a=r.selectedSpirits.get(i);if(!a){console.warn("Selected spirit not found in pageState for:",i);return}const c=n.dataset.action;let d=!1;switch(c){case"remove":r.selectedSpirits.delete(i),d=!0;break;case"level-down":if(m(i))break;a.level>0&&(a.level=Math.max(0,a.level-1),d=!0);break;case"level-up":if(m(i))break;a.level<25&&(a.level=Math.min(25,a.level+1),d=!0);break}d&&(g(),v())}e.mouseDownTime=null}function H(l){const n=l.target,t=n.closest(".selected-spirit-card");if(!t)return;const i=n.dataset.action;if(i!=="level-down"&&i!=="level-up")return;l.preventDefault(),l.stopPropagation();const a=t.dataset.spiritName;r.selectedSpirits.get(a)&&(e.timeoutId&&clearTimeout(e.timeoutId),e.intervalId&&clearInterval(e.intervalId),e.isPressed=!1,e.button=n,e.spiritName=a,e.action=i,e.hintHovered=!1,e.mouseDownTime=Date.now(),e.timeoutId=setTimeout(()=>{e.button===n&&Z()},300))}function G(l){const n=l.target;if(!n.closest(".selected-spirit-card"))return;const i=n.classList.contains("level-btn")||n.classList.contains("minus-btn")||n.classList.contains("plus-btn"),a=n.dataset.action;if(!i||a!=="level-down"&&a!=="level-up")return;l.preventDefault(),l.stopPropagation(),e.touchStartTime=Date.now();const c={target:l.target,preventDefault:()=>{},stopPropagation:()=>{}};H(c)}function J(l){if(e.isPressed){const n=l.changedTouches[0];if(e.hintElement){const t=e.hintElement.getBoundingClientRect();if(n.clientX>=t.left&&n.clientX<=t.right&&n.clientY>=t.top&&n.clientY<=t.bottom){e.hintHovered=!0;const a=e.action==="level-down"?0:25,c=r.selectedSpirits.get(e.spiritName);c&&(c.level=a,g(),v())}}f(),l.preventDefault(),l.stopPropagation()}}function j(l){if(!e.isPressed)return;const n=l.touches[0],t=document.elementFromPoint(n.clientX,n.clientY),i=e.hintElement,a=e.bridgeElement;if(!i)return;const c=t===i||i.contains(t),d=t===a;c?e.hintHovered||(e.hintHovered=!0,i.style.transform="scale(1.2)",i.style.fontSize="12px",i.style.fontWeight="900",i.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)"):e.hintHovered&&!d&&(e.hintHovered=!1,i.style.transform="scale(1)",i.style.fontSize="10px",i.style.fontWeight="bold",i.style.boxShadow="0 1px 3px rgba(0,0,0,0.2)")}function _(l){if(!e.isPressed&&!e.timeoutId)return;const n=l.changedTouches[0],t=e.touchStartTime?Date.now()-e.touchStartTime:0;if(t>0&&t<300&&!e.isPressed){e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null);const a=e.spiritName,c=e.action,d=r.selectedSpirits.get(a);if(d&&c&&!m(a)){let p=!1;c==="level-down"&&d.level>0?(d.level=Math.max(0,d.level-1),p=!0):c==="level-up"&&d.level<25&&(d.level=Math.min(25,d.level+1),p=!0),p&&(g(),v())}e.button=null,e.spiritName=null,e.action=null,e.touchStartTime=null;return}if(e.isPressed){if(e.hintElement){const a=e.hintElement.getBoundingClientRect();if(n.clientX>=a.left&&n.clientX<=a.right&&n.clientY>=a.top&&n.clientY<=a.bottom){e.hintHovered=!0;const d=e.action==="level-down"?0:25,p=r.selectedSpirits.get(e.spiritName);p&&(p.level=d,g(),v())}}f(),e.touchMoveHandler&&(document.removeEventListener("touchmove",e.touchMoveHandler),e.touchMoveHandler=null),e.touchStartTime=null;return}if(e.timeoutId){const a={target:document.elementFromPoint(n.clientX,n.clientY),clientX:n.clientX,clientY:n.clientY,type:"touchend"};E(a)}e.touchMoveHandler&&(document.removeEventListener("touchmove",e.touchMoveHandler),e.touchMoveHandler=null),e.touchStartTime=null}function E(l){if(!e.ignoreMouseUp){if(e.timeoutId&&!e.isPressed){clearTimeout(e.timeoutId),e.timeoutId=null,e.button=null,e.spiritName=null,e.action=null;return}if(e.isPressed){if(l.type==="touchend"&&e.hintElement){const n=e.hintElement.getBoundingClientRect();l.clientX>=n.left&&l.clientX<=n.right&&l.clientY>=n.top&&l.clientY<=n.bottom&&(e.hintHovered=!0)}if(e.hintHovered){const n=e.action==="level-down"?0:25,t=r.selectedSpirits.get(e.spiritName);t&&(t.level=n,g(),v())}f()}}}function K(l){if(e.isPressed){const n=l.relatedTarget===e.hintElement||e.hintElement?.contains(l.relatedTarget),t=l.relatedTarget===e.bridgeElement||e.bridgeElement?.contains(l.relatedTarget);if(n||t)return;f()}}function Q(l,n){const t=o.selectedSpiritsList.querySelector(`[data-spirit-name="${l}"]`);if(t){const a=t.querySelector(".level-input");a&&(a.value=n,a.setAttribute("value",n),a.dispatchEvent(new Event("input",{bubbles:!0})))}const i=document.getElementById("selectedSpiritsMobile");if(i){const a=i.querySelector(`[data-spirit-name="${l}"]`);if(a){const c=a.querySelector(".level-input");c&&(c.value=n,c.setAttribute("value",n),c.dispatchEvent(new Event("input",{bubbles:!0})))}}}function Z(){if(!e.button)return;e.isPressed=!0,e.ignoreMouseUp=!0,setTimeout(()=>{e.ignoreMouseUp=!1},100);try{ee()}catch(n){console.error("createHint ì—ëŸ¬:",n)}const l=()=>{if(!e.isPressed)return!1;const n=r.selectedSpirits.get(e.spiritName);if(!n||m(e.spiritName))return!1;n.level;let t=!1;return e.action==="level-down"&&n.level>0?(n.level=Math.max(0,n.level-1),t=!0):e.action==="level-up"&&n.level<25&&(n.level=Math.min(25,n.level+1),t=!0),t?(g(),Q(e.spiritName,n.level),!0):!1};l(),e.intervalId=setInterval(()=>{l()||f()},200)}function f(){e.intervalId&&(clearInterval(e.intervalId),e.intervalId=null),e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null),te(),e.touchMoveHandler&&(document.removeEventListener("touchmove",e.touchMoveHandler),e.touchMoveHandler=null),e.isPressed=!1,e.hintHovered=!1,e.bridgeElement=null,e.button=null,e.spiritName=null,e.action=null,e.mouseDownTime=null,e.touchStartTime=null,e.ignoreMouseUp=!1}function ee(){if(!e.button)return;const n=(e.action==="level-down"?0:25).toString(),t=document.createElement("div");t.className="level-hint",t.textContent=n;const i=e.button.getBoundingClientRect();t.style.position="fixed",t.style.top=i.top+"px",t.style.zIndex="1000",t.style.color="white",t.style.padding="0px 4px",t.style.margin="0",t.style.border="none",t.style.borderRadius="3px",t.style.fontSize="10px",t.style.fontWeight="bold",t.style.pointerEvents="none",t.style.cursor="pointer",t.style.whiteSpace="nowrap",t.style.boxShadow="0 1px 3px rgba(0,0,0,0.2)",t.style.textAlign="center",t.style.height=i.height+"px",t.style.lineHeight=i.height+"px",t.style.width="32px",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.transition="all 0.2s ease",e.action==="level-down"?(t.style.left=i.left-36+"px",t.style.backgroundColor="#f44336"):(t.style.left=i.right+4+"px",t.style.backgroundColor="#4CAF50"),document.body.appendChild(t),e.hintElement=t,e.hintHovered=!1;const a=document.createElement("div");a.className="hint-bridge",a.style.position="fixed",a.style.top=i.top+"px",a.style.height=i.height+"px",a.style.zIndex="999",a.style.backgroundColor="transparent",a.style.pointerEvents="none",e.action==="level-down"?(a.style.left=i.left-36+"px",a.style.width=36+i.width+4+"px"):(a.style.left=i.left+"px",a.style.width=i.width+4+32+"px"),document.body.appendChild(a),e.bridgeElement=a;const c=()=>{e.isPressed&&(e.hintHovered=!0,t.style.transform="scale(1.2)",t.style.fontSize="12px",t.style.fontWeight="900",t.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)")},d=()=>{e.isPressed&&(e.hintHovered=!1,t.style.transform="scale(1)",t.style.fontSize="10px",t.style.fontWeight="bold",t.style.boxShadow="0 1px 3px rgba(0,0,0,0.2)")},p=()=>{if(console.log("ğŸ¯ íŒíŠ¸ í´ë¦­/í„°ì¹˜ ì¢…ë£Œ",{isPressed:e.isPressed,hintHovered:e.hintHovered}),e.isPressed){if(e.hintHovered){const u=e.action==="level-down"?0:25,C=r.selectedSpirits.get(e.spiritName);C&&(C.level=u,g(),v())}f()}};t.addEventListener("mouseenter",c),t.addEventListener("mouseup",p),t.addEventListener("mouseleave",u=>{!a.contains(u.relatedTarget)&&u.relatedTarget!==a&&d()}),t.addEventListener("touchstart",u=>{u.preventDefault(),u.stopPropagation(),c()},{passive:!1}),t.addEventListener("touchend",u=>{u.preventDefault(),u.stopPropagation(),p()},{passive:!1}),e.touchMoveHandler=j,document.addEventListener("touchmove",e.touchMoveHandler),a.addEventListener("mouseleave",u=>{!t.contains(u.relatedTarget)&&u.relatedTarget!==t&&d()}),a.addEventListener("touchstart",u=>{u.preventDefault(),u.stopPropagation(),c()},{passive:!1}),a.addEventListener("touchend",u=>{u.preventDefault(),u.stopPropagation()},{passive:!1}),setTimeout(()=>{t&&e.isPressed&&(t.style.pointerEvents="auto"),a&&e.isPressed&&(a.style.pointerEvents="auto")},0)}function te(){e.hintElement&&(e.hintElement.remove(),e.hintElement=null),e.bridgeElement&&(e.bridgeElement.remove(),e.bridgeElement=null)}function ne(l){r.groupByInfluence=l.target.checked,g(),y()}function B(l){if(l.target.matches(".level-input")){const n=l.target.closest(".selected-spirit-card"),t=r.selectedSpirits.get(n.dataset.spiritName);if(t){if(m(n.dataset.spiritName)){l.target.value=25;return}let i=parseInt(l.target.value,10);(isNaN(i)||i<0)&&(i=0),i>25&&(i=25),t.level=i,l.target.value=i,g()}}}function le(){S().forEach(n=>{r.selectedSpirits.has(n.name)&&r.selectedSpirits.delete(n.name)}),v()}function ie(){S().forEach(n=>{r.selectedSpirits.has(n.name)||r.selectedSpirits.set(n.name,{...n,level:0})}),v()}function L(l){const n=document.getElementById(l),t=parseInt(n.value,10);if(isNaN(t)||t<0||t>25){alert("0ì—ì„œ 25 ì‚¬ì´ì˜ ë ˆë²¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}r.selectedSpirits.forEach(i=>{i.type===r.currentCategory&&(i.level=t)}),v()}function ae(l){const n=document.getElementById(l);n&&(n.value=25,L(l))}async function T(){const l=[...r.selectedSpirits.values()].filter(t=>t.type===r.currentCategory).map(t=>({name:t.name,level:t.level}));if(l.length===0){alert("í˜„ì¬ íƒ­ì—ì„œ ì„ íƒëœ í™˜ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.");return}const n=document.getElementById("app-container");M(n,"ìµœì  ì¡°í•© ê³„ì‚° ì¤‘","ìœ ì „ ì•Œê³ ë¦¬ì¦˜ì´ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤...");try{const t=await k(l);if(!t||!t.spirits)throw new Error("APIì—ì„œ ìœ íš¨í•œ ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.");P(t),A(t,!1)}catch(t){alert("ì„œë²„ ì ê²€ì¤‘ì…ë‹ˆë‹¤"),console.error("Optimal combination calculation failed:",t)}finally{I()}}function ve(l){se(),l.innerHTML=O();const n=`
    <button class="panel-toggle-button" id="panelToggleBtn">
        ì„ íƒëœ í™˜ìˆ˜ <span id="mobileSelectedCount">0</span>ê°œ <span class="toggle-icon">â–²</span>
    </button>
    <div class="right-panel collapsed">
        <div class="selected-spirits-container">
            <div class="selected-spirits-header">
                <h3>ì„ íƒëœ í™˜ìˆ˜</h3>
                <div class="header-controls">
                    <div class="level-batch-control">
                        <label>ì¼ê´„ ë ˆë²¨ ì„¤ì •:</label>
                        <input type="number" id="mobileBatchLevel" min="0" max="25" value="0">
                        <button id="applyMobileBatchLevelBtn" class="btn btn-primary apply-level-btn">ì ìš©</button>
                        <button id="setMaxMobileBatchLevelBtn" class="btn btn-warning max-level-btn">Max</button>
                    </div>
                    <div class="calculate-btn-small">
                        <button id="findOptimalMobileBtn" class="btn btn-secondary">ì°¾ê¸°</button>
                    </div>
                </div>
            </div>
            <div id="selectedSpiritsMobile" class="selected-spirits"></div>
        </div>
    </div>`,t=b("div","panel-toggle-container",{id:"panelToggleContainer"});t.innerHTML=n,document.body.appendChild(t);const i=o;i.container=l,i.bondCategoryTabs=l.querySelector("#bondCategoryTabs"),i.spiritListContainer=l.querySelector("#spiritListContainer"),i.selectedSpiritsList=l.querySelector("#selectedSpiritsList"),i.selectedCount=l.querySelector("#selectedCount"),i.selectAllBtn=l.querySelector("#selectAllBtn"),i.clearAllSelectionBtn=l.querySelector("#clearAllSelectionBtn"),i.batchLevelInput=l.querySelector("#batchLevelInput"),i.applyBatchLevelBtn=l.querySelector("#applyBatchLevelBtn"),i.findOptimalBtn=l.querySelector("#findOptimalBtn"),i.influenceToggle=l.querySelector("#influenceToggle"),D(),l.querySelectorAll(".sub-tabs .tab").forEach(a=>{a.classList.toggle("active",a.dataset.category===r.currentCategory)}),o.influenceToggle.checked=r.groupByInfluence,z(),R(),v()}function ge(){return`
        <div class="content-block">
            <h2>í™˜ìˆ˜ ê²°ì† ê³„ì‚°ê¸° ì‚¬ìš© ì•ˆë‚´</h2>
            <p>í™˜ìˆ˜ ê²°ì† ì‹œìŠ¤í…œì€ 6ë§ˆë¦¬ í™˜ìˆ˜ì˜ ì¡°í•©ì„ í†µí•´ ë‹¤ì–‘í•œ ëŠ¥ë ¥ì¹˜ ì‹œë„ˆì§€ë¥¼ ì–»ëŠ” í•µì‹¬ ì½˜í…ì¸ ì…ë‹ˆë‹¤. 'ë°”ì—°í™”ì—°'ì˜ ê²°ì† ê³„ì‚°ê¸°ëŠ” ì—¬ëŸ¬ë¶„ì´ ë³´ìœ í•œ í™˜ìˆ˜ë“¤ë¡œ ë‹¬ì„±í•  ìˆ˜ ìˆëŠ” ìµœì ì˜ ì¡°í•©ì„ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤.</p>
            <p>ì´ ê³„ì‚°ê¸°ëŠ” <strong>í”¼í•´ì €í•­, í”¼í•´ì €í•­ê´€í†µ, ëŒ€ì¸í”¼í•´%*10, ëŒ€ì¸ë°©ì–´%*10</strong>ë¥¼ í•©ì‚°í•œ 'í™˜ì‚° ì ìˆ˜'ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìµœì ì˜ ì¡°í•©ì„ ì°¾ì•„ë‚´ë©°, ìœ ì „ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ìˆ˜ë§ì€ ê²½ìš°ì˜ ìˆ˜ë¥¼ ë¹ ë¥´ê²Œ íƒìƒ‰í•©ë‹ˆë‹¤.</p>

            <h3>ğŸ” í˜ì´ì§€ ê¸°ëŠ¥ ì„¤ëª…</h3>
            <ul>
                <li><strong>ì¹´í…Œê³ ë¦¬ ì„ íƒ:</strong> 'ìˆ˜í˜¸', 'íƒ‘ìŠ¹', 'ë³€ì‹ ' íƒ­ì„ í´ë¦­í•˜ì—¬ í•´ë‹¹ ì¢…ë¥˜ì˜ í™˜ìˆ˜ ëª©ë¡ì„ í™•ì¸í•˜ì„¸ìš”. ê²°ì† ì¡°í•©ì€ ë™ì¼ ì¹´í…Œê³ ë¦¬ ë‚´ì—ì„œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                <li><strong>í™˜ìˆ˜ ì„ íƒ:</strong> ì¢Œì¸¡ 'ì „ì²´ í™˜ìˆ˜ ëª©ë¡'ì—ì„œ ê²°ì† ì¡°í•©ì— ì‚¬ìš©í•  í™˜ìˆ˜ë¥¼ í´ë¦­í•˜ì—¬ ì„ íƒí•˜ì„¸ìš”. ì„ íƒëœ í™˜ìˆ˜ëŠ” ìš°ì¸¡ 'ì„ íƒëœ í™˜ìˆ˜' ëª©ë¡ì— ì¶”ê°€ë©ë‹ˆë‹¤. (ë ˆë²¨ì€ 0ìœ¼ë¡œ ìë™ ì„¤ì •ë©ë‹ˆë‹¤.)</li>
                <li><strong>ì „ì²´ ì„ íƒ/í•´ì œ:</strong> 'í˜„ì¬ íƒ­ ì „ì²´ ì„ íƒ' ë˜ëŠ” 'í˜„ì¬ íƒ­ ì „ì²´ í•´ì œ' ë²„íŠ¼ì„ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“  í™˜ìˆ˜ë¥¼ í•œ ë²ˆì— ì„ íƒí•˜ê±°ë‚˜ í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li><strong>í™˜ìˆ˜ ë ˆë²¨ ì¡°ì ˆ:</strong> ìš°ì¸¡ ì„ íƒëœ í™˜ìˆ˜ ëª©ë¡ì—ì„œ ê° í™˜ìˆ˜ì˜ ë ˆë²¨ì„ 0~25 ì‚¬ì´ë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'ì¼ê´„ ë ˆë²¨ ì ìš©' ê¸°ëŠ¥ìœ¼ë¡œ ëª¨ë“  í™˜ìˆ˜ì˜ ë ˆë²¨ì„ í•œ ë²ˆì— ë³€ê²½í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</li>
                <li><strong>ìµœì  ì¡°í•© ì°¾ê¸°:</strong> 'ìµœì  ì¡°í•© ì°¾ê¸°' ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì„ íƒëœ í™˜ìˆ˜ë“¤ ì¤‘ ê°€ì¥ ë†’ì€ í™˜ì‚° ì ìˆ˜ë¥¼ ë‚´ëŠ” 6ë§ˆë¦¬ ì¡°í•©ì„ ì°¾ì•„ ëª¨ë‹¬ ì°½ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.</li>
                <li><strong>ê²°ê³¼ ëª¨ë‹¬ í™•ì¸:</strong>
                    <ul>
                        <li><strong>ì¡°í•© í•©ì‚° ì ìˆ˜:</strong> ëª¨ë‹¬ í—¤ë”ì— 'ì¡°í•© í•©ì‚°: 1234 (123)' í˜•ì‹ìœ¼ë¡œ ì´ì ìˆ˜(ë“±ë¡í¬í•¨)ì™€ ê²°ì†ì ìˆ˜ë¥¼ í•¨ê»˜ í‘œì‹œí•©ë‹ˆë‹¤. ë“±ë¡ íš¨ê³¼ê°€ ì—†ì„ ê²½ìš° 'ì¡°í•© í•©ì‚°: 1234' í˜•ì‹ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</li>
                        <li><strong>ì¡°í•© ì €ì¥ ë²„íŠ¼:</strong> í—¤ë” ìš°ì¸¡ì— ìœ„ì¹˜í•œ 'ì¡°í•© ì €ì¥' ë²„íŠ¼ìœ¼ë¡œ í˜„ì¬ ì¡°í•©ì„ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                        <li><strong>í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ í™˜ìˆ˜ ì„ íƒ:</strong> ê²°ê³¼ ëª¨ë‹¬ì˜ ì¡°í•© í™˜ìˆ˜ ëª©ë¡ì—ì„œ í˜„ì¬ ê²Œì„ì—ì„œ ì‚¬ìš© ì¤‘ì¸ í™˜ìˆ˜ë¥¼ í´ë¦­í•˜ë©´ ë“±ë¡ íš¨ê³¼ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ í—¤ë” ì ìˆ˜ì— ë°˜ì˜ë©ë‹ˆë‹¤.</li>
                        <li><strong>ë ˆë²¨ ì¡°ì ˆ (ì¥ê¸° ëˆ„ë¥´ê¸°):</strong> ê° í™˜ìˆ˜ì˜ +/- ë²„íŠ¼ì„ ì§§ê²Œ ëˆ„ë¥´ë©´ 1ë ˆë²¨ì”©, ê¸¸ê²Œ ëˆ„ë¥´ë©´ ì—°ì†ìœ¼ë¡œ ë ˆë²¨ì´ ë³€ê²½ë©ë‹ˆë‹¤. ëª¨ë°”ì¼ì—ì„œë„ í„°ì¹˜ë¡œ ë™ì¼í•˜ê²Œ ì‘ë™í•˜ë©°, ì¡°í•© í•©ì‚° ì ìˆ˜ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.</li>
                        <li><strong>ì¡°í•© í™˜ìˆ˜:</strong> ì„ íƒëœ 6ë§ˆë¦¬ í™˜ìˆ˜ì˜ ëª©ë¡ì„ ë³´ì—¬ì£¼ë©°, ê° í™˜ìˆ˜ì˜ ë ˆë²¨ë„ í‘œì‹œë©ë‹ˆë‹¤.</li>
                        <li><strong>íš¨ê³¼ë³„ ìŠ¤íƒ¯:</strong> ë“±ê¸‰, ì„¸ë ¥, ì¥ì°© íš¨ê³¼ë¡œ ì¸í•´ ì¦ê°€í•˜ëŠ” ëŠ¥ë ¥ì¹˜ ëª©ë¡ê³¼ í•©ì‚° ì ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                        <li><strong>ìƒì„¸ ìŠ¤íƒ¯ ë¹„êµ:</strong> ì„ íƒëœ 6ë§ˆë¦¬ í™˜ìˆ˜ ê°ê°ì˜ ìƒì„¸ ì¥ì°© ìŠ¤íƒ¯ê³¼ ì´í•©ì„ ë¹„êµí•˜ì—¬ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                </li>
                <li><strong>ê¸°ë¡ íƒ­:</strong> ì´ì „ì— ê³„ì‚°í–ˆë˜ ìµœì  ì¡°í•© ê²°ê³¼ë“¤ì„ ê¸°ë¡ íƒ­ì—ì„œ ë‹¤ì‹œ í™•ì¸í•˜ê³  ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'ìµœì‹ ', 'ìµœê³ ' ì ìˆ˜ë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            </ul>

            <h3>ğŸ’¡ ê²°ì† ì‹œìŠ¤í…œ íŒ & ì „ëµ</h3>
            <ul>
                <li><strong>PvEì™€ PvP ì¡°í•©:</strong> ë³´ìŠ¤ ì‚¬ëƒ¥ì„ ìœ„í•œ ì¡°í•©(í”¼í•´ì €í•­ê´€í†µ, ë³´ìŠ¤ëª¬ìŠ¤í„°ì¶”ê°€í”¼í•´)ê³¼ PvPë¥¼ ìœ„í•œ ì¡°í•©(ëŒ€ì¸ë°©ì–´%, í”¼í•´ì €í•´)ì€ ìŠ¤íƒ¯ ìš°ì„ ìˆœìœ„ê°€ ë‹¤ë¦…ë‹ˆë‹¤. ëª©í‘œì— ë§ëŠ” ì¡°í•©ì„ ì°¾ì•„ë³´ì„¸ìš”.</li>
                <li><strong>ë“±ê¸‰ ì‹œë„ˆì§€ vs ì„¸ë ¥ ì‹œë„ˆì§€:</strong> ì „ì„¤/ë¶ˆë©¸ í™˜ìˆ˜ ê°¯ìˆ˜ì— ë”°ë¥¸ ë“±ê¸‰ ì‹œë„ˆì§€ì™€ ê°™ì€ ì„¸ë ¥ í™˜ìˆ˜ ê°¯ìˆ˜ì— ë”°ë¥¸ ì„¸ë ¥ ì‹œë„ˆì§€ì„ ëª¨ë‘ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë•Œë¡œëŠ” ë‚®ì€ ë“±ê¸‰ì´ë¼ë„ ì„¸ë ¥ ì‹œë„ˆì§€ë¥¼ ë§ì¶”ëŠ” ê²ƒì´ ë” ìœ ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li><strong>ì‹¤ì‹œê°„ ë ˆë²¨ ì¡°ì •:</strong> ê²°ê³¼ ëª¨ë‹¬ì—ì„œ ê° í™˜ìˆ˜ì˜ ë ˆë²¨ì„ +/- ë²„íŠ¼ìœ¼ë¡œ ì¡°ì •í•˜ë©´ ì¡°í•© í•©ì‚° ì ìˆ˜ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤. ì¥ê¸° ëˆ„ë¥´ê¸°ë¡œ ë¹ ë¥´ê²Œ ë ˆë²¨ì„ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë©°, ëª¨ë°”ì¼ì—ì„œë„ í„°ì¹˜ë¡œ ë™ì¼í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.</li>
                <li><strong>ê³ ë ˆë²¨ í™˜ìˆ˜ì˜ ì¤‘ìš”ì„±:</strong> ì¥ì°© íš¨ê³¼ëŠ” í™˜ìˆ˜ ë ˆë²¨ì— ë”°ë¼ í¬ê²Œ ì¦ê°€í•˜ë¯€ë¡œ, ì£¼ìš” í™˜ìˆ˜ëŠ” 25ë ˆë²¨ê¹Œì§€ ìœ¡ì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì‹¤ì‹œê°„ ë ˆë²¨ ì¡°ì • ê¸°ëŠ¥ìœ¼ë¡œ ë ˆë²¨ë³„ ì ìˆ˜ ë³€í™”ë¥¼ ì¦‰ì‹œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li><strong>ëª¨ë“  í™˜ìˆ˜ í™œìš©:</strong> ë‹¨ìˆœíˆ ë³´ìœ  í™˜ìˆ˜ ì¤‘ ê°•í•œ í™˜ìˆ˜ 6ë§ˆë¦¬ë¥¼ ê³ ë¥´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê²°ì† ê³„ì‚°ê¸°ë¥¼ í†µí•´ ì˜ˆìƒì¹˜ ëª»í•œ ì¡°í•©ì´ ë” ì¢‹ì€ ê²°ê³¼ë¥¼ ë‚¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</li>
                <li><strong>ë“±ë¡ íš¨ê³¼ í™œìš©:</strong> ê²°ê³¼ ëª¨ë‹¬ì—ì„œ í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ í™˜ìˆ˜ë¥¼ ì„ íƒí•˜ì—¬ ë“±ë¡ íš¨ê³¼ë¥¼ ë°˜ì˜í•˜ë©´ ì‹¤ì œ ê²Œì„ì—ì„œì˜ ì´ ëŠ¥ë ¥ì¹˜ë¥¼ ì •í™•íˆ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í—¤ë”ì— 'ì¡°í•© í•©ì‚°: ì´ì  (ê²°ì†ì )' í˜•ì‹ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</li>
                <li><strong>ë¹ ë¥¸ ì¡°í•© ì €ì¥:</strong> í—¤ë” ìš°ì¸¡ì˜ 'ì¡°í•© ì €ì¥' ë²„íŠ¼ìœ¼ë¡œ í˜„ì¬ ì¡°í•©ì„ ê¸°ë¡ íƒ­ì— ì €ì¥í•˜ì—¬ ë‚˜ì¤‘ì— ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            </ul>
        </div>
    `}function se(){if(o.container){o.bondCategoryTabs&&s.bondCategoryTabsClickHandler&&o.bondCategoryTabs.removeEventListener("click",s.bondCategoryTabsClickHandler),o.container&&s.containerClickHandler&&o.container.removeEventListener("click",s.containerClickHandler),o.influenceToggle&&s.influenceToggleChangeHandler&&o.influenceToggle.removeEventListener("change",s.influenceToggleChangeHandler),o.selectedSpiritsList&&s.selectedSpiritsListInputHandler&&o.selectedSpiritsList.removeEventListener("input",s.selectedSpiritsListInputHandler),o.selectAllBtn&&s.selectAllClickHandler&&o.selectAllBtn.removeEventListener("click",s.selectAllClickHandler),o.clearAllSelectionBtn&&s.clearAllSelectionClickHandler&&o.clearAllSelectionBtn.removeEventListener("click",s.clearAllSelectionClickHandler),o.applyBatchLevelBtn&&s.applyBatchLevelClickHandler&&o.applyBatchLevelBtn.removeEventListener("click",s.applyBatchLevelClickHandler),o.findOptimalBtn&&s.findOptimalClickHandler&&o.findOptimalBtn.removeEventListener("click",s.findOptimalClickHandler);const l=document.getElementById("panelToggleBtn"),n=document.getElementById("selectedSpiritsMobile"),t=document.getElementById("applyMobileBatchLevelBtn"),i=document.getElementById("setMaxMobileBatchLevelBtn"),a=document.getElementById("findOptimalMobileBtn");l&&s.panelToggleBtnClickHandler&&l.removeEventListener("click",s.panelToggleBtnClickHandler),n&&s.mobileSelectedSpiritsListInputHandler&&n.removeEventListener("input",s.mobileSelectedSpiritsListInputHandler),t&&s.applyMobileBatchLevelClickHandler&&t.removeEventListener("click",s.applyMobileBatchLevelClickHandler),i&&s.setMaxMobileBatchLevelClickHandler&&i.removeEventListener("click",s.setMaxMobileBatchLevelClickHandler),a&&s.findOptimalMobileClickHandler&&a.removeEventListener("click",s.findOptimalMobileClickHandler);const c=document.getElementById("panelToggleContainer");c&&c.remove()}}export{se as cleanup,ge as getHelpContentHTML,ve as init};
