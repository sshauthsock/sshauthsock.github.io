:root{--color-primary:#3498db;--color-primary-dark:#2980b9;--color-primary-light:#e3f2fd;--color-secondary:#4CAF50;--color-secondary-dark:#388E3C;--color-secondary-light:#e8f5e9;--color-danger:#f44336;--color-danger-dark:#d32f2f;--color-danger-light:#fee2e2;--color-warning:#ffc107;--color-warning-dark:#ff8f00;--color-warning-light:#fff8e1;--color-success:#10b981;--color-success-dark:#059669;--color-success-light:#dcfce7;--color-info:#2563eb;--color-info-dark:#1d4ed8;--color-info-light:#dbeafe;--color-gray:#64748b;--color-gray-dark:#475569;--color-gray-light:#f1f5f9;--text-primary:#1a2a3a;--text-secondary:#4b5563;--text-light:#94a3b8;--text-white:#ffffff;--bg-white:#ffffff;--bg-light:#f5f7fa;--bg-lighter:#f9f9f9;--bg-gray:#f1f5f9;--bg-dark:#1a2a3a;--bg-darker:#0f172a;--border-light:#eaeaea;--border-medium:#ddd;--border-primary:#d1e7f8;--border-gray:#e5e7eb;--shadow-sm:0 2px 5px rgba(0, 0, 0, 0.05);--shadow-md:0 2px 8px rgba(0, 0, 0, 0.05);--shadow-lg:0 10px 25px rgba(0, 0, 0, 0.15);--shadow-btn-primary:0 3px 8px rgba(var(--color-primary-rgb), 0.3);--shadow-btn-success:0 3px 8px rgba(16, 185, 129, 0.3);--shadow-btn-info:0 3px 8px rgba(59, 130, 246, 0.3);--shadow-btn-warning:0 4px 10px rgba(255, 152, 0, 0.3);--radius-xs:3px;--radius-sm:5px;--radius-md:8px;--radius-lg:12px;--radius-xl:20px;--radius-round:50%;--space-xs:4px;--space-sm:8px;--space-md:15px;--space-lg:20px;--space-xl:30px;--transition-fast:all 0.2s ease;--transition-normal:all 0.3s ease;--transition-slow:all 0.4s ease;--text-xs:10px;--text-sm:12px;--text-md:14px;--text-lg:16px;--text-xl:18px;--text-xxl:20px;--z-behind:-1;--z-normal:1;--z-dropdown:100;--z-sticky:500;--z-fixed:1000;--z-modal:2000;--z-popover:5000;--z-tooltip:9000;--z-top:9999;--card-padding:var(--space-md);--button-height-default:36px;--button-height-mobile:32px;--input-height-default:36px;--input-height-mobile:32px;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--angle:0deg}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideDown{from{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slideUp{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes flash-animation{0%{box-shadow:0 0 0 rgba(52,152,219,.3)}50%{box-shadow:0 0 15px rgba(52,152,219,.6)}100%{box-shadow:0 0 0 rgba(52,152,219,.3)}}@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(25,118,210,.7)}70%{box-shadow:0 0 0 10px rgba(25,118,210,0)}100%{box-shadow:0 0 0 0 rgba(25,118,210,0)}}@keyframes fadeInScale{0%{opacity:0;transform:scale(0)}70%{transform:scale(1.2)}100%{opacity:1;transform:scale(1)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes ripple{0%{transform:scale(0,0);opacity:.5}100%{transform:scale(100,100);opacity:0}}@keyframes pop-in{0%{transform:scale(.8);opacity:0}100%{transform:scale(1);opacity:1}}@keyframes rotate-border{0%{--angle:0deg}100%{--angle:360deg}}*,::after,::before{box-sizing:border-box}body,html{font-family:'Noto Sans KR',sans-serif;margin:0;padding:0;background-color:var(--bg-light);color:var(--text-primary);line-height:1.6;width:100%;overflow-x:hidden}h1,h2,h3,h4,h5,h6{margin-top:0;color:var(--text-primary);font-weight:600}h3{margin-top:0;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:2px solid var(--color-primary);font-size:var(--text-xl)}p{margin-top:0;margin-bottom:1rem}a{color:var(--color-primary);text-decoration:none}a:hover{text-decoration:underline}img{max-width:100%;height:auto;vertical-align:middle}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}button{cursor:pointer}ol,ul{padding-left:2rem}table{border-collapse:collapse;width:100%}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:#f1f1f1;border-radius:var(--radius-xs)}::-webkit-scrollbar-thumb{background:#c1d5e0;border-radius:var(--radius-xs)}::-webkit-scrollbar-thumb:hover{background:#a3c2d6}:focus{outline:2px solid var(--color-primary);outline-offset:2px}.keyboard-focus:focus{box-shadow:0 0 0 3px rgba(52,152,219,.5)}.fade-in{animation:fadeIn .3s ease}.slide-down{animation:slideDown .3s ease}.slide-up{animation:slideUp .3s ease}.flash{animation:flash-animation .8s}.pulse{animation:pulse 1.5s infinite}.fade-in-scale{animation:fadeInScale .5s ease}.spin{animation:spin 1s linear infinite}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.text-primary{color:var(--color-primary)}.text-secondary{color:var(--color-secondary)}.text-danger{color:var(--color-danger)}.text-warning{color:var(--color-warning)}.text-success{color:var(--color-success)}.text-white{color:var(--text-white)}.text-xs{font-size:var(--text-xs)}.text-sm{font-size:var(--text-sm)}.text-md{font-size:var(--text-md)}.text-lg{font-size:var(--text-lg)}.text-xl{font-size:var(--text-xl)}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.italic{font-style:italic}.m-0{margin:0!important}.m-xs{margin:var(--space-xs)!important}.m-sm{margin:var(--space-sm)!important}.m-md{margin:var(--space-md)!important}.m-lg{margin:var(--space-lg)!important}.m-xl{margin:var(--space-xl)!important}.mt-0{margin-top:0!important}.mt-xs{margin-top:var(--space-xs)!important}.mt-sm{margin-top:var(--space-sm)!important}.mt-md{margin-top:var(--space-md)!important}.mt-lg{margin-top:var(--space-lg)!important}.mt-xl{margin-top:var(--space-xl)!important}.mb-0{margin-bottom:0!important}.mb-xs{margin-bottom:var(--space-xs)!important}.mb-sm{margin-bottom:var(--space-sm)!important}.mb-md{margin-bottom:var(--space-md)!important}.mb-lg{margin-bottom:var(--space-lg)!important}.mb-xl{margin-bottom:var(--space-xl)!important}.ml-0{margin-left:0!important}.ml-xs{margin-left:var(--space-xs)!important}.ml-sm{margin-left:var(--space-sm)!important}.ml-md{margin-left:var(--space-md)!important}.ml-lg{margin-left:var(--space-lg)!important}.ml-xl{margin-left:var(--space-xl)!important}.mr-0{margin-right:0!important}.mr-xs{margin-right:var(--space-xs)!important}.mr-sm{margin-right:var(--space-sm)!important}.mr-md{margin-right:var(--space-md)!important}.mr-lg{margin-right:var(--space-lg)!important}.mr-xl{margin-right:var(--space-xl)!important}.p-0{padding:0!important}.p-xs{padding:var(--space-xs)!important}.p-sm{padding:var(--space-sm)!important}.p-md{padding:var(--space-md)!important}.p-lg{padding:var(--space-lg)!important}.p-xl{padding:var(--space-xl)!important}.pt-0{padding-top:0!important}.pt-xs{padding-top:var(--space-xs)!important}.pt-sm{padding-top:var(--space-sm)!important}.pt-md{padding-top:var(--space-md)!important}.pt-lg{padding-top:var(--space-lg)!important}.pt-xl{padding-top:var(--space-xl)!important}.pb-0{padding-bottom:0!important}.pb-xs{padding-bottom:var(--space-xs)!important}.pb-sm{padding-bottom:var(--space-sm)!important}.pb-md{padding-bottom:var(--space-md)!important}.pb-lg{padding-bottom:var(--space-lg)!important}.pb-xl{padding-bottom:var(--space-xl)!important}.pl-0{padding-left:0!important}.pl-xs{padding-left:var(--space-xs)!important}.pl-sm{padding-left:var(--space-sm)!important}.pl-md{padding-left:var(--space-md)!important}.pl-lg{padding-left:var(--space-lg)!important}.pl-xl{padding-left:var(--space-xl)!important}.pr-0{padding-right:0!important}.pr-xs{padding-right:var(--space-xs)!important}.pr-sm{padding-right:var(--space-sm)!important}.pr-md{padding-right:var(--space-md)!important}.pr-lg{padding-right:var(--space-lg)!important}.pr-xl{padding-right:var(--space-xl)!important}.d-flex{display:flex!important}.d-block{display:block!important}.d-inline-block{display:inline-block!important}.d-none{display:none!important}.d-grid{display:grid!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:sticky!important}.top-0{top:0!important}.right-0{right:0!important}.bottom-0{bottom:0!important}.left-0{left:0!important}.border{border:1px solid var(--border-light)!important}.border-top{border-top:1px solid var(--border-light)!important}.border-right{border-right:1px solid var(--border-light)!important}.border-bottom{border-bottom:1px solid var(--border-light)!important}.border-left{border-left:1px solid var(--border-light)!important}.border-0{border:0!important}.bg-primary{background-color:var(--color-primary)!important}.bg-secondary{background-color:var(--color-secondary)!important}.bg-success{background-color:var(--color-success)!important}.bg-danger{background-color:var(--color-danger)!important}.bg-warning{background-color:var(--color-warning)!important}.bg-white{background-color:var(--bg-white)!important}.bg-light{background-color:var(--bg-light)!important}.rounded{border-radius:var(--radius-md)!important}.rounded-sm{border-radius:var(--radius-sm)!important}.rounded-lg{border-radius:var(--radius-lg)!important}.rounded-xl{border-radius:var(--radius-xl)!important}.rounded-circle{border-radius:var(--radius-round)!important}.rounded-0{border-radius:0!important}.shadow-none{box-shadow:none!important}.shadow-sm{box-shadow:var(--shadow-sm)!important}.shadow-md{box-shadow:var(--shadow-md)!important}.shadow-lg{box-shadow:var(--shadow-lg)!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-scroll{overflow:scroll!important}.overflow-x-auto{overflow-x:auto!important}.overflow-y-auto{overflow-y:auto!important}.overflow-x-hidden{overflow-x:hidden!important}.overflow-y-hidden{overflow-y:hidden!important}.container{width:100%;padding-right:var(--space-md);padding-left:var(--space-md);margin-right:auto;margin-left:auto;box-sizing:border-box}.container-fluid{width:100%;padding-right:var(--space-md);padding-left:var(--space-md);margin-right:auto;margin-left:auto}.bond-container{max-width:100%;margin:0 auto;box-sizing:border-box;overflow-x:hidden;padding:0}.section{margin-bottom:var(--space-lg)}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid var(--border-light)}.section-title{margin:0;font-weight:600}.section-content{margin-bottom:var(--space-md)}.section-footer{display:flex;justify-content:flex-end;margin-top:var(--space-md);padding-top:var(--space-sm);border-top:1px solid var(--border-light)}.layout-container,.soul-container{display:flex;flex-wrap:wrap;max-width:1200px;margin:var(--space-md) auto;gap:var(--space-lg);padding:0 var(--space-md);width:100%}.left{flex:1;min-width:280px}.equipment-section{flex:0.45;display:flex;flex-direction:column}.right{flex:1;min-width:300px}.level-info-section{flex:2;display:flex;flex-direction:column;gap:var(--space-lg)}.row{display:flex;flex-wrap:wrap;margin-right:-var(--space-md);margin-left:-var(--space-md)}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9{position:relative;width:100%;padding-right:var(--space-md);padding-left:var(--space-md)}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-1{flex:0 0 8.333333%;max-width:8.333333%}.col-2{flex:0 0 16.666667%;max-width:16.666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.333333%;max-width:33.333333%}.col-5{flex:0 0 41.666667%;max-width:41.666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.333333%;max-width:58.333333%}.col-8{flex:0 0 66.666667%;max-width:66.666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.333333%;max-width:83.333333%}.col-11{flex:0 0 91.666667%;max-width:91.666667%}.col-12{flex:0 0 100%;max-width:100%}.grid{display:grid;gap:var(--space-md)}.grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}.grid-4{grid-template-columns:repeat(4,1fr)}.grid-auto-sm{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.grid-auto-md{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.image-container-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(70px,1fr));gap:var(--space-sm);background-color:var(--bg-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);padding:var(--space-md);max-width:1400px;margin-bottom:var(--space-xl)}.results-container{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-md);margin-bottom:var(--space-lg)}.selected-spirits{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--space-sm);max-height:calc(100vh - 300px);overflow-y:auto;margin-bottom:var(--space-sm);padding:var(--radius-sm)}.stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-md);margin-bottom:var(--space-lg);width:100%}.main-content{display:flex;flex-direction:row;gap:var(--space-lg);width:100%}.left-panel,.right-panel{flex:1;max-height:calc(100vh - 150px);overflow-y:auto;position:sticky;top:var(--space-lg);z-index:var(--z-normal)}.left-panel{flex:2}.panel{background-color:var(--bg-white);border-radius:var(--radius-md);box-shadow:var(--shadow-sm);padding:var(--card-padding)}.selected-spirits-container{background-color:var(--bg-white);border-radius:var(--radius-lg);padding:var(--space-md);box-shadow:var(--shadow-sm);height:100%}.selected-spirits-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-md);flex-wrap:wrap}.header-title-area{display:flex;align-items:center;width:100%;gap:var(--space-md);margin-bottom:var(--space-sm);justify-content:flex-start}.header-title-area h3,.selection-title{margin:0;font-size:var(--text-lg);padding:var(--radius-sm) 0;font-weight:600;line-height:1.5;height:34px;display:flex;align-items:center}.header-controls{display:flex;align-items:center;gap:var(--space-sm);flex-wrap:wrap}.results-section{background-color:var(--bg-lighter);border-radius:var(--radius-md);padding:var(--space-md);box-shadow:var(--shadow-sm)}.results-section h4{color:var(--text-primary);margin-top:0;padding-bottom:var(--space-sm);border-bottom:1px solid var(--border-light)}.calculator-form{background-color:var(--bg-gray);border-radius:var(--radius-md);padding:var(--space-md);margin-bottom:var(--space-md);box-shadow:0 1px 3px rgba(0,0,0,.05)}.resources-section{background-color:var(--bg-gray);border-radius:var(--radius-md);padding:var(--space-md);margin-bottom:var(--space-md);width:100%}.summary-box{padding:var(--space-md);background-color:var(--bg-gray);border-radius:var(--radius-md);box-shadow:0 1px 3px rgba(0,0,0,.05);width:100%}.panel-toggle-container{position:fixed;bottom:0;left:0;width:100%;z-index:var(--z-fixed);display:none;flex-direction:column;pointer-events:none}.panel-toggle-button{position:relative;bottom:0;left:50%;transform:translateX(-50%);background-color:var(--color-info);color:var(--text-white);border:none;border-radius:var(--radius-xl) var(--radius-xl) 0 0;padding:10px 20px;font-size:var(--text-md);box-shadow:0 -2px 10px rgba(0,0,0,.2);margin-bottom:-2px;cursor:pointer;display:block;pointer-events:auto;z-index:var(--z-fixed);width:200px;text-align:center;animation:pulse 2s infinite}.panel-toggle-button:hover{background-color:var(--color-info-dark);transform:translateX(-50%) scale(1.05)}.ad-container{width:100%;max-width:1400px;margin:var(--space-sm) auto;padding:0 var(--space-md);box-sizing:border-box;display:flex;justify-content:center;align-items:center}.ad-row{display:flex;justify-content:space-between;max-width:1500px;margin:0 auto;padding:var(--space-sm) var(--radius-sm)}.ad-container-left,.ad-container-right{box-sizing:border-box;display:flex;align-items:center;justify-content:center;min-height:90px;width:49%;overflow:hidden}.mobile-ad{min-height:50px;width:100%;text-align:center}.modal .ad-container-left,.modal .ad-container-right,.modal .mobile-ad{width:100%;margin:var(--space-sm) auto;text-align:center}.kakao_ad_area{min-height:30px;display:flex!important;justify-content:center;align-items:center;text-align:center}.modal .kakao_ad_area{min-height:50px}.kakao_ad_area:empty::before{content:'광고 로드 중...';display:block;text-align:center;font-size:var(--text-sm);color:#999;padding:10px 0}#optimalModalContent .kakao_ad_area{min-height:50px;width:100%;max-width:728px;margin:var(--space-md) auto;background-color:var(--bg-gray);border-radius:var(--radius-sm);overflow:hidden}.btn{padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);border:none;font-weight:500;cursor:pointer;transition:var(--transition-fast);display:inline-flex;align-items:center;justify-content:center;text-decoration:none;font-size:var(--text-md);min-height:var(--button-height-default)}.btn:hover{transform:translateY(-2px);box-shadow:0 3px 8px rgba(0,0,0,.1)}.btn:active{transform:translateY(0);box-shadow:0 1px 3px rgba(0,0,0,.1)}.btn-primary{background-color:var(--color-primary);color:var(--text-white)}.btn-primary:hover{background-color:var(--color-primary-dark)}.btn-secondary{background-color:var(--color-secondary);color:var(--text-white)}.btn-secondary:hover{background-color:var(--color-secondary-dark)}.btn-danger{background-color:var(--color-danger);color:var(--text-white)}.btn-danger:hover{background-color:var(--color-danger-dark)}.btn-warning{background-color:var(--color-warning);color:var(--text-primary)}.btn-warning:hover{background-color:var(--color-warning-dark)}.btn-info{background-color:var(--color-info);color:var(--text-white)}.btn-info:hover{background-color:var(--color-info-dark)}.btn-sm{padding:var(--radius-sm) 10px;font-size:var(--text-sm);min-height:30px}.btn-lg{padding:12px var(--space-lg);font-size:var(--text-lg);min-height:44px}.btn-rounded{border-radius:50px}.clear-selection-btn{padding:var(--radius-sm) var(--space-md);background-color:var(--color-danger);color:var(--text-white);border:none;border-radius:var(--radius-xl);cursor:pointer;font-weight:500;transition:var(--transition-fast);box-shadow:0 2px 5px rgba(var(--color-danger-rgb),.3)}.clear-selection-btn:hover{background-color:var(--color-danger-dark)}.apply-level-btn{background-color:var(--color-primary);color:var(--text-white)}.max-level-btn{padding:var(--radius-sm) var(--space-md);background-color:var(--color-secondary);color:var(--text-white);border:none;border-radius:var(--radius-xl);cursor:pointer;font-weight:500;transition:var(--transition-fast);box-shadow:0 2px 5px rgba(var(--color-secondary-rgb),.3);margin-left:var(--radius-sm)}.max-level-btn:hover{background-color:var(--color-secondary-dark);transform:scale(1.05)}#findOptimalBtn{padding:10px 25px;color:var(--text-white);border:none;border-radius:25px;font-weight:600;font-size:var(--text-sm);cursor:pointer;transition:var(--transition-normal);background-color:var(--color-warning);box-shadow:var(--shadow-btn-warning);width:100%}#findOptimalMobileBtn{background-color:var(--color-warning)}#findOptimalBtn:hover{background-color:var(--color-warning-dark);transform:translateY(-3px);box-shadow:0 6px 15px rgba(255,152,0,.4)}.exp-tab{padding:10px 16px;text-align:center;border:1px solid transparent;border-radius:var(--radius-md);cursor:pointer;font-weight:700;box-shadow:0 2px 4px rgba(0,0,0,.1);transition:var(--transition-normal);font-size:var(--text-md)}.exp-tab[data-type=legend]{background-color:#e74c3c;color:var(--text-white);border-color:#e74c3c;box-shadow:0 3px 8px rgba(231,76,60,.3)}.exp-tab[data-type=legend]:hover{background-color:#c0392b}.exp-tab[data-type=immortal]{background-color:#f1c40f;color:var(--text-white);border-color:#f1c40f;box-shadow:0 3px 8px rgba(241,196,15,.3)}.exp-tab[data-type=immortal]:hover{background-color:#d4ac0d}.exp-tab.active{transform:scale(1.05);box-shadow:0 4px 12px rgba(0,0,0,.15)}.selector-btn{padding:var(--space-sm) 12px;border:1px solid #e0e0e0;border-radius:var(--radius-md);background-color:var(--bg-white);color:#333;cursor:pointer;transition:var(--transition-normal);font-weight:500;box-shadow:0 2px 4px rgba(0,0,0,.05);position:relative;font-size:var(--text-md);touch-action:manipulation;min-height:44px}.selector-btn:hover{background-color:var(--color-primary-light);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.1)}.selector-btn:active{transform:translateY(0);box-shadow:0 2px 4px rgba(0,0,0,.05)}.selector-btn.equip-btn.bg-sky-500{background-color:var(--color-primary);color:var(--text-white);border-color:var(--color-primary);font-weight:700;box-shadow:var(--shadow-btn-primary)}.selector-btn.level-btn.bg-emerald-500{background-color:var(--color-success);color:var(--text-white);border-color:var(--color-success);font-weight:700;box-shadow:var(--shadow-btn-success)}.selector-btn.level-btn.bg-emerald-500 .level-status{color:rgba(255,255,255,.8)}.selector-btn.level-btn.bg-emerald-500 .level-progress-bar{background-color:rgba(255,255,255,.5)}.equip-btn{padding:10px;text-align:center;justify-content:center;display:flex;align-items:center}.preset-btn{border:none;border-radius:var(--radius-md);padding:var(--space-sm) 12px;cursor:pointer;font-size:var(--text-md);font-weight:600;transition:var(--transition-normal);white-space:nowrap;flex:1;min-height:44px}.boss-btn{background-color:var(--color-success);color:var(--text-white)}.boss-btn:hover{background-color:var(--color-success-dark);transform:translateY(-2px);box-shadow:var(--shadow-btn-success)}.boss-btn:active{transform:translateY(0);background-color:#047857}.pvp-btn{background-color:var(--color-info);color:var(--text-white)}.pvp-btn:hover{background-color:var(--color-info-dark);transform:translateY(-2px);box-shadow:var(--shadow-btn-info)}.pvp-btn:active{transform:translateY(0);background-color:#1d4ed8}.action-btn{padding:6px 10px;background-color:var(--color-warning);color:#000;border:none;border-radius:var(--radius-md);cursor:pointer;font-weight:600;transition:var(--transition-fast);margin-top:auto;display:flex;align-items:center;justify-content:center;touch-action:manipulation;font-size:var(--text-sm)}.action-btn:hover{background-color:var(--color-warning-dark)}.action-btn:active{transform:scale(.98);background-color:#eab308}.action-btn.disabled-btn{background-color:var(--color-gray-light);color:var(--text-light);cursor:default}.action-btn.disabled-btn:hover{background-color:var(--color-gray-light);transform:none;box-shadow:none}.redistribute-btn{padding:4px var(--space-sm);background-color:var(--color-gray-light);color:var(--color-gray);border:none;border-radius:4px;cursor:pointer;font-size:var(--text-sm);transition:var(--transition-fast);touch-action:manipulation;min-height:32px;min-width:32px}.redistribute-btn:hover{background-color:#e2e8f0;color:var(--color-gray-dark)}.redistribute-btn:active{transform:scale(.95)}.footer-report-btn{background-color:#444;color:var(--text-white);border:none;padding:var(--radius-sm) 10px;border-radius:4px;cursor:pointer;margin-left:var(--space-sm)}.card{background-color:var(--bg-white);border-radius:var(--radius-md);box-shadow:var(--shadow-sm);padding:var(--card-padding);margin-bottom:var(--space-md)}.card-header{margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid var(--border-light)}.card-title{margin:0;font-size:var(--text-xl);font-weight:600}.card-body{margin-bottom:var(--space-md)}.card-footer{padding-top:var(--space-sm);border-top:1px solid var(--border-light);display:flex;justify-content:flex-end;gap:var(--space-sm)}.level-panel{width:100%}.enhancement-panel{width:100%}.summary-panel{flex:1;align-self:flex-start}.stat-card{display:flex;flex-direction:column}.stat-card .card-header{display:flex;justify-content:space-between;align-items:center;gap:var(--space-sm);width:100%}.stat-card .card-header h3{margin:0;padding:0;border:none;flex-grow:1;text-align:left}.stat-card .progress-container{flex-grow:1}.stat-card .action-btn{margin-top:auto}.selector-btn.active{font-weight:700}.selector-btn.equip-btn.active{background-color:var(--color-primary);color:var(--text-white);border-color:var(--color-primary)}.selector-btn.level-btn.active{background-color:var(--color-success);color:var(--text-white);border-color:var(--color-success)}.modal-body{max-height:60vh;overflow-y:auto;padding:var(--space-sm)}.result-group{margin-bottom:var(--space-lg)}.stat-group-title{font-size:var(--text-lg);font-weight:600;color:var(--color-primary);margin-bottom:var(--space-sm);padding-bottom:var(--space-sm);border-bottom:1px solid var(--border-light)}.stat-locations{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:var(--space-sm)}.stat-location{background-color:var(--bg-lighter);border-radius:var(--radius-md);padding:var(--space-sm);cursor:pointer;transition:var(--transition-fast);border:1px solid var(--border-light)}.stat-location:hover{transform:translateY(-2px);box-shadow:var(--shadow-sm);border-color:var(--color-primary)}.location-part{font-weight:500}.location-level{font-size:var(--text-sm);color:var(--text-secondary)}.summary-section{margin-bottom:var(--space-md);padding-bottom:var(--space-md);border-bottom:1px dashed #c1d5e0;width:100%}.summary-section:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.summary-section h4{color:var(--text-primary);font-size:var(--text-lg);font-weight:600;margin-bottom:var(--space-sm);margin-top:0}.site-footer{background-color:#222;color:var(--text-white);padding:var(--space-md) var(--space-sm);margin-top:var(--space-lg);text-align:center;font-size:var(--text-md)}.footer-links{display:flex;justify-content:center;flex-wrap:wrap;margin-bottom:var(--space-sm);padding-bottom:var(--space-sm);border-bottom:1px solid #444}.footer-info{padding-top:var(--space-sm);text-align:center;font-size:var(--text-sm);color:#9e9e9e;line-height:1.8}.footer-info p{margin:0}.footer-info a{color:#9e9e9e;text-decoration:underline}.footer-report-btn{background-color:#444;color:var(--text-white);border:none;padding:var(--radius-sm) 10px;border-radius:4px;cursor:pointer;margin:0 4px;transition:background-color .3s ease}.footer-report-btn:hover{background-color:#555}.footer-copyright a{color:#9e9e9e;text-decoration:underline}.form-group{margin-bottom:var(--space-md)}.form-label{display:block;margin-bottom:var(--radius-sm);font-weight:500;color:var(--text-secondary)}.form-control{width:100%;padding:var(--space-sm) 10px;border:1px solid var(--border-medium);border-radius:var(--radius-sm);font-size:var(--text-md);transition:var(--transition-fast)}.form-control:focus{border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(52,152,219,.15);outline:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}.level-batch-control{display:flex;align-items:center;gap:var(--space-sm)}.level-batch-control input{font-weight:700;font-size:var(--text-md);color:var(--text-primary);background-color:var(--color-primary-light);padding:var(--radius-sm) 10px;border-radius:var(--radius-xl);box-shadow:inset 0 1px 3px rgba(0,0,0,.05);border:1px solid var(--border-primary);text-align:center;width:60px;-moz-appearance:textfield}.level-batch-control button{padding:var(--radius-sm) var(--space-md);border:none;border-radius:var(--radius-xl);cursor:pointer;font-weight:500;transition:var(--transition-fast);box-shadow:var(--shadow-btn-primary)}.level-batch-control button:hover{background-color:var(--color-primary-dark);transform:scale(1.05)}.search-container{padding:12px 0;border-bottom:1px solid var(--border-light);margin-bottom:var(--space-md)}.search-header{margin-bottom:var(--space-sm)}.search-header h4{font-size:var(--text-md);font-weight:600;color:var(--text-primary);margin:0}.search-controls{position:relative}.search-input-wrapper{display:flex;gap:var(--radius-sm)}#mobile-search-input,#search-input,.search-input{flex:1;padding:var(--space-sm) 12px;border:1px solid var(--border-primary);border-radius:var(--radius-md);background-color:var(--color-primary-light);font-size:var(--text-md);outline:0;box-sizing:border-box;min-height:44px}#mobile-search-button,#search-button,.search-btn{padding:var(--space-sm) var(--space-md);background-color:var(--color-primary);color:var(--text-white);border:none;border-radius:var(--radius-md);cursor:pointer;font-weight:500;transition:var(--transition-fast)}#mobile-search-button:hover,#search-button:hover,.search-btn:hover{background-color:var(--color-primary-dark)}.toggle-switch{position:relative;display:inline-block;width:50px;height:26px;flex-shrink:0}.toggle-switch input{opacity:0;width:0;height:0}.slider,.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s;border-radius:26px}.slider:before,.toggle-slider:before{position:absolute;content:"";height:20px;width:20px;left:3px;bottom:3px;background-color:var(--text-white);transition:.4s;border-radius:var(--radius-round)}input:checked+.slider,input:checked+.toggle-slider{background-color:var(--color-primary)}input:focus+.slider,input:focus+.toggle-slider{box-shadow:0 0 1px var(--color-primary)}input:checked+.slider:before,input:checked+.toggle-slider:before{transform:translateX(24px)}.view-toggle-container{display:flex;align-items:center;justify-content:center;padding:15px;gap:var(--space-md);flex-wrap:nowrap;width:100%;box-sizing:border-box}.toggle-label{font-size:var(--text-md);font-weight:500;cursor:pointer;color:var(--text-primary);white-space:nowrap}.input-row{display:flex;gap:var(--space-sm);margin-bottom:12px}.input-group{flex:1}.soul-panel{display:flex;align-items:center;gap:var(--space-sm);flex-wrap:wrap}.soul-item{flex:1;text-align:center;background:var(--bg-white);border-radius:var(--radius-md);padding:var(--radius-sm);box-shadow:0 1px 2px rgba(0,0,0,.05);min-width:85px}.soul-item img{width:24px;height:24px;display:block;margin:0 auto var(--radius-xs);border-radius:var(--radius-xs)}.soul-item label{font-size:var(--text-sm);margin:0 0 var(--radius-xs) 0;display:block;color:#333}.soul-item input{text-align:center;padding:var(--radius-sm);font-size:var(--text-md);width:100%;border:1px solid var(--border-medium);border-radius:var(--radius-sm)}.resource-label{font-weight:500;color:var(--text-primary);margin-bottom:var(--space-sm);display:block}.resource-inputs{display:flex;gap:var(--space-md);margin-bottom:var(--space-md);width:100%}.resource-input{display:flex;align-items:center;gap:var(--space-sm);flex:1 1 auto;min-width:130px}.resource-input input{width:100%;min-width:80px;padding:var(--space-sm) 10px;border:1px solid var(--border-medium);border-radius:var(--radius-md);font-size:var(--text-md);transition:var(--transition-normal);box-sizing:border-box;-moz-appearance:textfield;min-height:44px}.resource-icon-img{width:28px;height:28px;border-radius:var(--radius-round);object-fit:cover}.resource-icon-img-small{width:18px;height:18px;border-radius:var(--radius-round);object-fit:cover}.btn-icon{width:16px;height:16px;border-radius:var(--radius-round);margin-right:4px}.resource-input input:focus{border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(52,152,219,.2);outline:0}.resource-status{flex:1;min-width:200px;margin-bottom:var(--space-md);width:100%}.resource-summary{display:flex;flex-wrap:wrap;gap:var(--space-sm);width:100%}.resource-summary-item{font-size:var(--text-md);display:flex;align-items:center;gap:var(--radius-sm);background-color:var(--bg-white);padding:var(--radius-sm) var(--space-sm);border-radius:var(--radius-md);box-shadow:0 1px 3px rgba(0,0,0,.1)}.resource-details{display:flex;align-items:center;gap:4px}.resource-value{font-weight:600;color:var(--color-info)}.resource-needed{margin-top:var(--space-sm);display:flex;flex-wrap:wrap;gap:var(--space-sm);width:100%}.needed-item{background-color:var(--color-danger-light);color:#dc2626;padding:var(--radius-sm) var(--space-sm);border-radius:var(--radius-md);font-size:var(--text-sm);display:flex;align-items:center;gap:4px;box-shadow:0 1px 3px rgba(220,38,38,.2)}.resource-negative{color:#e53e3e}.stat-filter-container{display:flex;align-items:center;gap:var(--space-sm);flex-shrink:1;min-width:0}.stat-filter{padding:6px 12px;border:1px solid #c2dcf3;border-radius:var(--radius-xl);background-color:var(--color-primary-light);font-size:var(--text-md);color:var(--text-primary);min-width:0;width:100%;cursor:pointer;transition:var(--transition-fast);text-overflow:ellipsis}.stat-filter:hover{border-color:var(--color-primary);background-color:var(--color-primary-light)}.stat-filter:focus{outline:0;border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(52,152,219,.25)}.clear-filter-btn{background-color:var(--color-danger);color:var(--text-white);border:none;border-radius:var(--radius-xl);padding:var(--radius-sm) var(--space-sm);font-size:var(--text-sm);cursor:pointer;transition:var(--transition-fast);white-space:nowrap;flex-shrink:0}.clear-filter-btn:hover{background-color:var(--color-danger-dark);transform:translateY(-2px)}.header{display:flex;align-items:center;padding:0 var(--space-md);background-color:var(--bg-dark);box-shadow:0 2px 10px rgba(0,0,0,.08);position:sticky;top:0;z-index:var(--z-sticky);height:60px}.logo-container{display:flex;align-items:center;margin-right:var(--space-lg)}.logo{height:40px;width:auto;transition:var(--transition-normal);display:block;border:2px solid rgba(255,255,255,.3)}.logo:hover{transform:scale(1.05)}.tabs{display:flex;align-items:center;flex-grow:1;height:100%;margin-right:var(--space-lg);background-color:transparent}.tab{padding:14px var(--space-lg);margin:0 4px;cursor:pointer;transition:all .3s ease-out;border-radius:var(--radius-md);color:rgba(255,255,255,.7);font-weight:500;letter-spacing:.5px;text-align:center;white-space:nowrap;position:relative;overflow:hidden;border:1px solid transparent}.tab:hover{color:var(--text-white);background-color:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2)}.tab.active{color:var(--text-white);font-weight:600;background-color:transparent;position:relative;box-shadow:0 2px 8px rgba(0,0,0,.2);backdrop-filter:blur(4px);border-color:var(--color-primary-dark)}.tab.active::after{content:'';position:absolute;bottom:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--color-primary),var(--color-secondary));opacity:1;border-radius:2px 2px 0 0;transform:scaleX(1);transition:transform .3s ease-out}.tab.active:hover::after{transform:scaleX(1.05)}.tab.active::before{content:none}.sub-tabs{display:flex;justify-content:center;align-items:flex-end;margin:0;padding:8px 0;gap:var(--radius-sm);background-color:var(--bg-light);position:sticky;top:55px;z-index:99;width:100%;box-shadow:0 2px 5px rgba(0,0,0,.05)}.sub-tabs .tab{position:relative;padding:8px 16px;min-width:100px;text-align:center;font-size:var(--text-sm);font-weight:500;color:var(--text-secondary);background-color:var(--bg-white);border:1px solid var(--border-medium);border-radius:var(--radius-md);box-shadow:0 1px 3px rgba(0,0,0,.08);cursor:pointer;transition:all .2s ease-out;margin:0 4px}.sub-tabs .tab:hover{color:var(--color-primary-dark);background-color:var(--color-primary-light);border-color:var(--color-primary);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.1)}.sub-tabs .tab.active{color:var(--text-white);background-color:var(--color-primary);border-color:var(--color-primary-dark);box-shadow:0 3px 8px rgba(var(--color-primary-rgb),.3);transform:translateY(-1px);font-weight:600;z-index:1}.sub-tabs .tab:after{content:none}.help-container{position:fixed;bottom:80px;right:var(--space-lg);z-index:var(--z-fixed)}.help-btn{width:40px;height:40px;border-radius:var(--radius-round);background-color:var(--color-primary);border:none;color:var(--text-white);font-weight:700;font-size:var(--text-xl);cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 5px rgba(0,0,0,.2);transition:var(--transition-normal)}.help-btn:hover{background-color:var(--color-primary-dark);transform:scale(1.05)}.help-icon{display:inline-block}.help-tooltip{position:fixed;bottom:60px;right:var(--space-lg);width:450px;max-height:80vh;background:var(--bg-white);border-radius:var(--radius-md);box-shadow:0 5px 20px rgba(0,0,0,.3);padding:0;display:none;z-index:var(--z-tooltip);overflow-y:auto;transform-origin:bottom right;animation:pop-in .3s;box-sizing:border-box}.help-content{padding:var(--space-md)}.help-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid #eee}.help-header h3{margin:0;font-size:var(--text-xl);color:var(--text-primary);border-bottom:none;padding-bottom:0}.close-help{background:0 0;border:none;font-size:24px;cursor:pointer;color:#666;transition:var(--transition-fast)}.close-help:hover{color:var(--color-danger)}.help-tooltip .content-block{background-color:transparent;box-shadow:none;border-radius:0;padding:0;margin-bottom:0}.help-tooltip h2{font-size:var(--text-xxl);color:var(--color-primary-dark);margin-bottom:var(--space-lg);padding-bottom:var(--space-sm);border-bottom:2px solid var(--color-primary)}.help-tooltip h3#currentHelpTitle{font-size:var(--text-xxl);margin-bottom:0;padding-bottom:0;border-bottom:none}.help-tooltip h3{font-size:var(--text-lg);color:var(--text-primary);margin-top:var(--space-lg);margin-bottom:var(--space-md);padding-bottom:var(--space-xs);border-bottom:1px dashed var(--border-medium)}.help-tooltip h4{font-size:var(--text-md);color:var(--text-primary);margin-top:var(--space-md);margin-bottom:var(--space-sm);padding-bottom:var(--space-xs);border-bottom:1px dashed var(--border-medium)}.help-tooltip p{font-size:var(--text-md);line-height:1.7;margin-bottom:var(--space-md)}.help-tooltip ul{list-style-type:disc;padding-left:var(--space-lg);margin-bottom:var(--space-md)}.help-tooltip ul li{font-size:var(--text-md);line-height:1.6;margin-bottom:var(--space-sm)}.help-tooltip strong{color:var(--color-primary);font-weight:700}@media (max-width:768px){.help-tooltip{width:90%;right:5%;left:5%;transform:translateX(0);bottom:80px;max-height:70vh;padding:var(--space-sm)}.help-content{padding:var(--space-sm)}.help-tooltip h2{font-size:var(--text-xl);margin-bottom:var(--space-md)}.help-tooltip h3#currentHelpTitle{font-size:var(--text-xl)}.help-tooltip h3,.help-tooltip h4{font-size:var(--text-md);margin-top:var(--space-md);margin-bottom:var(--space-sm)}.help-tooltip p,.help-tooltip ul li{font-size:var(--text-sm);margin-bottom:var(--space-sm)}.help-tooltip ul{padding-left:var(--space-md)}}.modal-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);z-index:var(--z-modal);justify-content:center;align-items:center;backdrop-filter:blur(3px);animation:fadeIn .3s ease;-webkit-overflow-scrolling:touch}.modal{background-color:var(--bg-white);max-width:900px;border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:var(--shadow-lg);max-height:90vh;overflow-y:auto;position:relative;animation:slideUp .4s ease;display:block;width:90%}.modal-content{background-color:var(--bg-white);margin:2% auto;padding:var(--space-lg);border-radius:var(--radius-lg);width:90%;max-width:1200px;box-shadow:var(--shadow-lg);animation:slideDown .3s;position:relative;box-sizing:border-box;display:flex;flex-direction:column;align-items:stretch}.modal-close,.modal-close-btn{position:absolute;top:var(--space-sm);right:var(--space-sm);background:rgba(255,255,255,.9);border:none;font-size:24px;cursor:pointer;color:#666;transition:var(--transition-fast);z-index:calc(var(--z-modal) + 10);padding:10px;width:44px;height:44px;display:flex;justify-content:center;align-items:center;touch-action:manipulation;border-radius:var(--radius-round);box-shadow:0 2px 5px rgba(0,0,0,.2)}.modal-close-btn:hover,.modal-close:hover{color:var(--color-danger);transform:scale(1.1)}.modal-title{color:#2c3e50;font-size:22px;text-align:center;margin:0 0 var(--space-lg) 0;padding-bottom:var(--space-md);border-bottom:2px solid var(--border-light)}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid var(--border-gray);width:100%;box-sizing:border-box}.modal-header h3{margin:0;padding:0;border:none}.modal-img-preview{max-width:80px;height:auto;margin-right:var(--space-md);border-radius:var(--radius-md)}.title-area{flex-grow:1}.title-area h3{display:flex;align-items:center;margin:0 0 var(--space-sm) 0;font-size:1.5rem}.stats-container{display:flex;justify-content:space-between;margin-top:var(--space-md);gap:var(--space-lg)}.stats-column{flex:0 0 48%;background-color:var(--bg-lighter);border-radius:var(--radius-md);padding:var(--space-md);box-shadow:0 2px 4px rgba(0,0,0,.05)}.stats-header-container{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm);color:#333;font-weight:500}.sum-container{font-size:.9em;color:#555}.level-controls{display:flex;align-items:center;gap:var(--radius-sm);margin-top:var(--space-sm)}.level-input{width:50px;text-align:center}.selected-spirits-info{margin-bottom:var(--space-lg);background-color:var(--bg-lighter);border-radius:var(--radius-md);padding:var(--space-md);box-shadow:0 2px 8px rgba(0,0,0,.05)}.spirits-info-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-sm);margin-top:var(--space-sm)}.spirit-info-item{display:flex;align-items:center;background-color:var(--bg-white);padding:var(--space-sm);border-radius:var(--radius-md);border:1px solid #eee}.spirit-info-item img{width:40px;height:40px;object-fit:contain;margin-right:var(--space-sm);background-color:#f8f8f8;border-radius:4px;padding:2px}.spirit-info-details{flex:1}.spirit-info-name{font-weight:500;font-size:var(--text-md);margin-bottom:3px}.spirit-info-level{font-size:var(--text-sm);color:#666}.warning-message{margin-top:var(--space-lg);padding:var(--space-sm) var(--space-md);background-color:#fff3cd;border-left:4px solid var(--color-warning);color:#856404;border-radius:4px}#optimalModal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);z-index:var(--z-modal);display:none;justify-content:center;align-items:center;backdrop-filter:blur(3px);animation:fadeIn .3s ease}#optimalModalContent{background-color:var(--bg-white);width:95%;max-width:800px;border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:0 10px 25px rgba(0,0,0,.3);max-height:90vh;overflow-y:auto;position:relative;display:block;animation:slideUp .4s ease}#optimalModal .modal-content{background:#f4f7f9;max-width:900px;width:95%}#optimalModal .modal-title{text-align:center;font-size:1.5rem;color:var(--color-secondary);margin-bottom:var(--space-lg)}.optimal-score-card{background:linear-gradient(135deg,var(--color-primary),#5dade2);color:var(--text-white);padding:var(--space-lg);border-radius:var(--radius-md);text-align:center;margin-bottom:var(--space-lg);box-shadow:0 4px 15px rgba(0,0,0,.1)}.score-title{font-size:1rem;opacity:.8}.score-value{font-size:2.8rem;font-weight:700;line-height:1.2}.score-breakdown{font-size:.9rem;opacity:.9}.optimal-score,.weighted-score{text-align:center;margin-bottom:var(--space-lg);padding:var(--space-sm);background-color:var(--color-secondary-light);border-radius:var(--radius-md);border-left:4px solid var(--color-secondary)}.optimal-score h4,.weighted-score h4{margin:0 0 var(--radius-sm) 0;color:#2e7d32}.effects-list{margin-top:var(--space-sm);list-style:none;padding:0}.effects-list li{display:flex;justify-content:space-between;padding:var(--space-sm) 0;border-bottom:1px solid #f0f2f5;font-size:.9rem}.effects-list li:last-child{border-bottom:none}.stat-name{color:#555;font-size:10px}.stat-value{font-weight:500;color:var(--color-secondary)}.effect-item{display:flex;justify-content:space-between;padding:var(--radius-sm) 0;font-size:var(--text-sm);border-bottom:1px solid #eee}.effect-item:last-child{border-bottom:none}.effect-item-percent{background-color:var(--color-primary-light)}.no-effects{color:#999;text-align:center;padding:10px 0}.bind-score{font-size:.85em;color:#e67e22;margin-left:5px}.has-bind-bonus{color:#2ecc71!important;font-weight:700}.spirit-modal-overlay{position:fixed;z-index:var(--z-modal);left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center}.spirit-modal-content{background-color:var(--bg-white);border-radius:var(--radius-lg);width:95%;max-width:800px;max-height:90vh;overflow-y:auto;padding:25px;position:relative;box-shadow:0 10px 30px rgba(0,0,0,.3);font-family:'Noto Sans KR',sans-serif}.spirit-modal-content::-webkit-scrollbar{width:8px}.spirit-modal-content::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.spirit-modal-content::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.spirit-modal-content::-webkit-scrollbar-thumb:hover{background:#555}.spirit-modal-header{display:flex;gap:var(--space-lg);margin-bottom:var(--space-lg);align-items:center}.spirit-modal-image{width:80px;height:80px;object-fit:contain;border-radius:var(--radius-md);border:2px solid var(--border-light);padding:var(--radius-sm);background:var(--bg-lighter);box-shadow:0 2px 5px rgba(0,0,0,.05)}.spirit-modal-title-section{flex-grow:1}.spirit-modal-title-section h3{margin:0 0 var(--space-sm) 0;font-size:22px;color:#333;display:flex;align-items:center;gap:var(--space-sm)}.influence-icon{width:24px;height:24px;border-radius:var(--radius-round);margin-left:var(--radius-sm)}.level-control{margin-top:var(--space-sm)}.level-input-container{display:flex;justify-content:center;align-items:center;padding:var(--space-sm) 12px;background:linear-gradient(to right,#f8f9fa,#edf2f7);border-radius:var(--radius-md);box-shadow:0 2px 5px rgba(0,0,0,.05);border:1px solid #e2e8f0}.level-btn{background:var(--bg-white);border:1px solid #e2e8f0;border-radius:var(--radius-md);padding:6px 10px;cursor:pointer;font-size:var(--text-md);font-weight:500;transition:var(--transition-fast);color:#4a5568;margin:0 3px;box-shadow:0 1px 2px rgba(0,0,0,.05)}.level-btn:hover{background:#f0f4f8;transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.1)}.level-btn:active{transform:translateY(0);box-shadow:0 1px 2px rgba(0,0,0,.05)}.min-btn{background:#ebf8ff;color:#3182ce;border-color:#bee3f8}.max-btn{background:#fef5ed;color:#dd6b20;border-color:#fed7aa}.min-btn:hover{background:#bee3f8}.max-btn:hover{background:#fed7aa}.level-input{width:50px;text-align:center;padding:7px 8px;font-weight:600;font-size:var(--text-md);color:#2d3748;border:1px solid #cbd5e0;border-radius:var(--radius-md);box-shadow:inset 0 1px 2px rgba(0,0,0,.05);margin:0 var(--radius-sm);transition:var(--transition-fast)}.level-input:focus{outline:0;border-color:#4299e1;box-shadow:0 0 0 3px rgba(66,153,225,.15)}.minus-btn,.plus-btn{font-weight:700;padding:6px 12px;width:50%;background:#f7fafc}.fixed-level-display{background:#e8f4f8;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-sm);font-weight:700;color:#2980b9;display:inline-block}.stats-container{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-lg);margin-top:var(--space-lg)}.stats-column{background:var(--bg-gray);border-radius:var(--radius-md);padding:var(--space-md);box-shadow:0 2px 8px rgba(0,0,0,.05)}.stats-header{font-weight:700;color:#333;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid #e5e5e5;display:flex;justify-content:space-between;align-items:center}.stats-sum{display:inline-block;background:#f0f8ff;padding:var(--radius-sm) var(--space-sm);border-radius:var(--radius-sm);font-size:var(--text-md);color:#2980b9}.stats-list{list-style-type:none;padding:0;margin:0}.stats-list li{padding:var(--space-sm) var(--radius-sm);border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center;transition:background .2s}.stats-list li:last-child{border-bottom:none}.stats-list li:hover{background:#f5f9ff}.stats-list li.stat-effective .stat-key,.stats-list li.stat-effective .stat-value{color:#007bff;font-weight:700}.stats-list li.stat-highlight{background-color:#fff3cd}.stat-key{font-weight:500}.stat-value{font-weight:700}.stat-highlight{background-color:#fff3cd!important;box-shadow:0 0 0 1px #ffeeba!important;border-left:3px solid #ffc107!important;padding-left:var(--space-sm)!important}.stat-damageResistance{color:var(--color-primary)}.stat-damageResistancePenetration{color:var(--color-danger)}.stat-pvpDamagePercent{color:#e67e22}.stat-pvpDefensePercent{color:#27ae60}.stat-statusEffectAccuracy{color:#9b59b6}.stat-statusEffectResistance{color:var(--color-primary-dark)}.stat-criticalPowerPercent{color:#f39c12}.stat-damage-resistance{color:var(--color-danger);font-weight:600}.stat-damage-resistance-penetration{color:var(--color-primary);font-weight:600}.stat-pvp-defense-percent{color:#2ecc71;font-weight:600}.stat-pvp-damage-percent{color:#9b59b6;font-weight:600}.stat-health-increase-percent{color:#f39c12;font-weight:600}.stat-critical-power-percent{color:#d35400;font-weight:600}.stat-magic-increase-percent{color:#16a085;font-weight:600}.stat-destruction-power-percent{color:#8e44ad;font-weight:600}.stat-critical-chance{color:#c0392b;font-weight:600}.stat-boss-monster-additional-damage{color:#27ae60;font-weight:600}.report-container{display:none}.report-btn{background:linear-gradient(135deg,#6e8efb,#4a6cf7);color:var(--text-white);border:none;border-radius:var(--radius-xl);padding:12px 24px;font-size:var(--text-lg);font-weight:500;font-family:'Noto Sans KR',sans-serif;cursor:pointer;box-shadow:0 4px 10px rgba(74,108,247,.3);display:inline-flex;align-items:center;justify-content:center;transition:var(--transition-normal);position:relative;overflow:hidden;min-width:180px}.report-icon{font-size:var(--text-xl);margin-right:var(--space-sm);display:inline-block;transform:translateY(-1px)}.report-spark{position:absolute;right:var(--space-md);font-size:var(--text-md);opacity:0;transform:translateX(10px);transition:var(--transition-slow)}.report-btn:hover{transform:translateY(-3px);box-shadow:0 6px 15px rgba(74,108,247,.4);background:linear-gradient(135deg,#5d7ff7,#3a5ce6)}.report-btn:hover .report-spark{opacity:1;transform:translateX(0)}.report-btn:active{transform:translateY(-1px);box-shadow:0 3px 8px rgba(74,108,247,.3)}.report-btn:active .report-text{transform:scale(.97);display:inline-block}.loading-indicator{display:flex;align-items:center;justify-content:center;height:200px;flex-direction:column}.loading-spinner{width:50px;height:50px;border:3px solid #f3f3f3;border-top:3px solid var(--color-primary);border-radius:var(--radius-round);animation:spin 1s linear infinite;margin-bottom:var(--space-md)}.error-message{padding:var(--space-xl);text-align:center;color:#721c24;background-color:#f8d7da;border-radius:var(--radius-md)}.error-message h3{margin-top:0}.error-message button{position:static;margin:0 auto;display:block;background:var(--color-danger);color:var(--text-white);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-sm);font-size:var(--text-lg)}.pagination{display:flex;justify-content:center;margin-top:var(--space-lg);gap:var(--radius-sm)}.pagination-wrapper{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-sm);margin-top:var(--space-lg)}.pagination-controls{display:flex;flex-wrap:wrap;gap:6px;align-items:center;flex:1 1 auto;min-width:0}.items-per-page{display:flex;align-items:center;gap:6px;font-size:var(--text-md);white-space:nowrap;flex:0 0 auto}.pagination-button{padding:var(--space-sm) 14px;border:1px solid #ccc;border-radius:var(--radius-md);background-color:var(--bg-white);color:#333;font-size:var(--text-md);cursor:pointer;transition:var(--transition-fast);min-width:40px}.pagination-button.active{background-color:var(--color-primary);color:var(--text-white);border-color:var(--color-primary);font-weight:700}.pagination-button:hover:not(.active):not(.disabled){background-color:#f4f4f4}.pagination-button.disabled{background-color:#eee;color:#aaa;cursor:not-allowed}.pagination-info{font-size:var(--text-md);color:#666;margin-left:var(--space-sm)}.items-per-page select{padding:var(--radius-sm) 6px;border-radius:var(--radius-md);border:1px solid #ccc;background-color:var(--bg-white);font-size:var(--text-md)}.history-tabs-container{margin-bottom:var(--space-lg)}.history-tabs{display:flex;border-bottom:1px solid var(--border-medium);margin-bottom:var(--radius-sm);overflow-x:auto;-webkit-overflow-scrolling:touch}.history-tab{padding:6px 10px;border:1px solid var(--border-medium);border-bottom:none;border-radius:4px 4px 0 0;cursor:pointer;font-size:var(--text-sm);background-color:#f5f5f5;color:#666;margin-right:2px;margin-bottom:-1px;position:relative;transition:var(--transition-fast);display:flex;flex-direction:column;align-items:center}.history-tab.active{background-color:var(--bg-white);color:#000;border-bottom:1px solid var(--bg-white);font-weight:500;z-index:var(--z-normal)}.history-tab.best{background-color:var(--color-warning-light);color:var(--color-warning-dark);border-color:#ffcc80}.history-tab.best.active{border-bottom:1px solid var(--color-warning-light)}.history-tab:hover{background-color:var(--bg-white)}.tab-score{font-size:var(--text-xs);margin-top:2px;font-weight:500}.history-info{display:flex;justify-content:space-between;font-size:var(--text-sm);color:#666;margin-bottom:12px}.timestamp{font-style:italic}.no-history-message{text-align:center;padding:var(--space-sm);color:#666;font-style:italic}.optimal-header{margin-bottom:var(--space-md)}.optimal-score{text-align:center;padding:var(--radius-sm);background-color:var(--bg-light);border-radius:var(--radius-sm);margin-bottom:var(--space-md)}.info-icon{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:var(--radius-round);background-color:var(--color-primary);color:var(--text-white);font-size:11px;cursor:pointer;margin-left:var(--radius-sm);font-weight:700;vertical-align:middle;position:relative}.info-icon.show-tooltip::after,.info-icon:hover::after{content:attr(title);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);padding:var(--radius-sm) var(--space-sm);background-color:var(--bg-dark);color:var(--text-white);border-radius:var(--radius-sm);font-size:var(--text-sm);white-space:nowrap;z-index:var(--z-dropdown);pointer-events:none}.data-warning-box{margin:var(--space-sm) 0 var(--space-lg);padding:var(--space-md);background-color:var(--color-warning-light);border-left:5px solid var(--color-warning);border-radius:4px;font-size:.9em}.data-warning-box h4{margin-top:0;color:#856404}.data-warning-box p{margin:var(--radius-sm) 0}.data-submission-request{margin:var(--space-md) 0;padding:12px var(--space-md);background-color:var(--color-primary-light);border:2px solid var(--color-primary);border-radius:var(--radius-sm);font-style:italic;font-size:var(--text-sm);color:#333;text-align:center;font-weight:700}table{width:100%;border-collapse:collapse;margin-bottom:1rem}td,th{padding:6px var(--space-sm);text-align:left;border-bottom:1px solid var(--border-light)}th{background-color:#f2f2f2;font-weight:600}tr:nth-child(2n){background-color:#f9f9f9}tr:hover{background-color:var(--color-primary-light)}.tables-container{display:flex;gap:var(--space-sm)}.table-half{flex:1;min-width:120px}tr.current-level{background-color:var(--color-primary-light)!important;font-weight:700}tr.target-level{background-color:var(--color-secondary-light)!important;font-weight:700}tr.max-level{background-color:var(--color-warning-light)!important;font-weight:700}.spirits-stats-table{width:100%;border-collapse:collapse;font-size:var(--text-xs)}.spirits-stats-table td,.spirits-stats-table th{padding:6px var(--space-sm);border:1px solid var(--border-medium);text-align:left;font-size:var(--text-sm)}.spirits-stats-table th{background-color:#f2f2f2;position:sticky;top:0;z-index:var(--z-normal);white-space:nowrap}.spirits-stats-table thead tr{display:table-row;width:100%}.spirits-stats-table tr:nth-child(2n){background-color:#f9f9f9}.spirits-stats-table tr:hover{background-color:var(--color-primary-light)}.spirits-stats-table th:first-child{position:sticky;left:0;background-color:#f2f2f2;z-index:2;width:17%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.spirits-stats-table td{text-align:center}.spirit-thumbnail{width:32px;height:32px;object-fit:contain;vertical-align:middle;margin-right:4px;border-radius:4px;background-color:var(--bg-white)}.spirit-selection-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-md)}.spirit-selection h3{margin:0}.image-container-grid img.selected,.influence-group img.selected{border:3px solid #1976d2;box-shadow:0 0 10px rgba(25,118,210,.5);transform:scale(1.05)}.img-wrapper img.selected{border:3px solid var(--color-primary)!important;box-shadow:0 0 8px var(--color-primary),0 0 12px rgba(52,152,219,.6)!important;position:relative;filter:brightness(85%)}.img-wrapper .img-box{position:relative}.center-check-mark{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background-color:#2ecc71;border-radius:var(--radius-round);display:flex;align-items:center;justify-content:center;color:var(--text-white);font-weight:700;font-size:var(--space-md);border:2px solid var(--text-white);z-index:var(--z-top);box-shadow:0 0 5px rgba(0,0,0,.3);pointer-events:none}.selected-spirits-container{background-color:var(--bg-white);border-radius:var(--radius-lg);padding:var(--space-md);box-shadow:0 5px 20px rgba(0,0,0,.05);height:100%}.selected-spirit-card{position:relative;display:flex;flex-direction:column;align-items:center;background-color:var(--bg-lighter);border-radius:var(--radius-md);padding:var(--radius-sm);box-shadow:0 1px 3px rgba(0,0,0,.1);transition:var(--transition-fast);height:115px}.selected-spirit-card:hover{box-shadow:0 3px 8px rgba(0,0,0,.15);transform:translateY(-2px)}.selected-spirit-header{position:relative;width:100%;display:flex;flex-direction:column;align-items:center;margin-bottom:2px}.selected-spirit-header img{width:40px;height:40px;object-fit:contain;border-radius:4px;background-color:var(--bg-white);padding:2px;border:1px solid var(--border-light)}.spirit-info{width:100%;text-align:center;margin-top:3px}.spirit-name{font-size:var(--text-sm);font-weight:600;margin:2px 0;line-height:1.2;max-height:26px;overflow:hidden;padding:0 2px;color:#333}.remove-spirit{position:absolute;top:-4px;right:-4px;width:16px;height:16px;font-size:var(--text-xs);line-height:1;background-color:var(--color-danger);color:var(--text-white);border:none;border-radius:var(--radius-round);padding:0;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:var(--z-normal);box-shadow:0 1px 2px rgba(0,0,0,.2)}.spirit-level-control{display:flex;align-items:center;justify-content:center;width:100%;margin-top:auto;margin-bottom:4px;height:24px}.spirit-level-control button{width:18px;height:18px;border-radius:var(--radius-round);border:none;background-color:var(--color-primary);color:var(--text-white);font-size:var(--text-sm);cursor:pointer;display:flex;justify-content:center;align-items:center;padding:0}.spirit-level-control input{width:28px;height:18px;text-align:center;margin:0 2px;font-weight:700;font-size:var(--text-sm);padding:0;border-radius:3px;border:1px solid var(--border-primary);background-color:var(--color-primary-light)}.spirit-level-control .max-btn{font-size:var(--text-xs)!important;background-color:#e74c3c!important;border-radius:3px!important;width:16px!important;height:16px!important;margin-left:2px}.spirit-level-control .min-btn{font-size:var(--text-xs)!important;background-color:var(--color-secondary)!important;border-radius:3px!important;width:16px!important}.fixed-level{background-color:var(--color-secondary-light);border:1px solid var(--color-secondary);color:#2e7d32;font-weight:700;text-align:center;width:28px;height:18px;border-radius:3px;cursor:not-allowed;font-size:var(--text-sm)}.fixed-level-badge{font-size:var(--text-xs);background-color:var(--color-secondary);color:var(--text-white);padding:1px 3px;border-radius:3px;display:inline-block;margin-top:2px}.spirit-grade-legend{border-top:2px solid #e53935}.spirit-grade-immortal{border-top:2px solid #ffa000}.spirit-category-badge{position:absolute;top:3px;left:3px;font-size:var(--text-xs);padding:1px 3px;background-color:rgba(0,0,0,.6);color:var(--text-white);border-radius:2px}.ribbon-left,.ribbon-right{position:absolute;top:1px;z-index:3;overflow:hidden;width:20px;height:20px;pointer-events:none}.ribbon-left{left:3px}.ribbon-right{right:3px}.ribbon-left::after,.ribbon-left::before,.ribbon-right::after,.ribbon-right::before{position:absolute;z-index:-1;content:'';display:block}.ribbon-left span,.ribbon-right span{position:absolute;display:block;width:30px;padding:0;box-shadow:0 2px 3px rgba(0,0,0,.2);color:#fff;font-size:5px;line-height:1.5;font-weight:700;text-shadow:0 1px 1px rgba(0,0,0,.2);text-transform:uppercase;text-align:center}.ribbon-left span{background-color:#a8c7e5;transform:rotate(-45deg);left:-10px;top:3px}.ribbon-right span{background-color:#e5bcbc;transform:rotate(45deg);right:-10px;top:3px}.selected-spirit-card [class^=ribbon]{top:-5px}.selected-spirit-card .ribbon-left{left:-5px}.selected-spirit-card .ribbon-right{right:-5px}.calculate-btn-container{display:flex;justify-content:center;gap:var(--space-md);margin:var(--space-md) 0;padding-top:var(--space-md);border-top:1px solid var(--border-light)}.calculate-btn-small{display:flex;align-items:center}.panel-toggle-container{position:fixed;bottom:0;left:0;width:100%;z-index:var(--z-fixed);display:none;flex-direction:column;pointer-events:none}.mobile-clear-button-container{display:none;justify-content:flex-end;align-items:center;padding:var(--space-sm) var(--space-md);background-color:var(--bg-white);border-radius:var(--radius-lg) var(--radius-lg) 0 0;margin-bottom:-5px;box-shadow:0 -2px 10px rgba(0,0,0,.05)}.mobile-clear-button-container h3{margin:0;font-size:var(--text-lg)}.mobile-button-area{display:flex;justify-content:flex-end;flex-shrink:0}.mobile-clear-btn{padding:4px 12px;font-size:var(--text-sm);white-space:nowrap}.data-warning-box{margin:var(--space-sm) 0 var(--space-lg);padding:var(--space-md);background-color:var(--color-warning-light);border-left:5px solid var(--color-warning);border-radius:4px;font-size:.9em}.data-warning-box h4{margin-top:0;color:#856404}.data-warning-box p{margin:var(--radius-sm) 0}.layout-container{display:flex;flex-wrap:wrap;max-width:1200px;margin:var(--space-md) auto;gap:var(--space-lg);padding:0 var(--space-lg);width:100%}.level-info-section{flex:2;display:flex;flex-direction:column;gap:var(--space-lg)}.equipment-panel{width:100%;height:100%}.button-grid{display:flex;flex-direction:column;gap:var(--space-sm);align-items:stretch}.level-buttons{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:var(--space-sm);width:100%}.level-btn{flex:0 0 calc(16.666% - 3px);display:flex;flex-direction:column;align-items:center;gap:3px;padding:var(--radius-sm) 3px}.level-text{font-size:var(--text-sm);font-weight:500;margin-bottom:1px}.level-progress-container{width:100%;display:flex;flex-direction:column;gap:2px}.level-status{font-size:var(--text-xs);color:var(--color-gray);text-align:center;height:12px}.level-progress-bar{height:3px;border-radius:1.5px;transition:width .3s ease,background-color .3s}.level-progress-bar.empty{background-color:#e2e8f0}.level-progress-bar.partial{background-color:#fcd34d}.level-progress-bar.complete{background-color:#3b82f6}.progress-dots{display:flex;gap:2px;margin:2px 0;justify-content:space-between}.progress-dot{width:8px;height:8px;border-radius:var(--radius-round);transition:var(--transition-normal)}.progress-dot.gray{background-color:#d1d5db;border:1px solid #9ca3af}.progress-dot.yellow{background-color:#fcd34d;border:1px solid #f59e0b}.progress-dot.blue{background-color:#3b82f6;border:1px solid #2563eb}.value-display{font-size:var(--text-md);font-weight:600;color:var(--color-info)}.card-header{margin-bottom:4px}.tool-section{display:flex;flex-direction:column;gap:var(--space-md);margin-bottom:var(--space-lg);width:100%}.preset-section{display:flex;gap:var(--space-sm);justify-content:space-between}.search-section{flex:1;background-color:var(--bg-gray);border-radius:var(--radius-md);padding:12px;position:relative;z-index:var(--z-dropdown)}.search-input-container{position:relative;width:100%}.dropdown-container{position:relative;width:100%;z-index:var(--z-dropdown)}.stat-options{display:none;position:absolute;top:0;left:0;right:0;max-height:300px;overflow-y:auto;background-color:var(--bg-white);border:1px solid var(--border-medium);border-radius:var(--radius-md);z-index:var(--z-fixed);box-shadow:0 4px 16px rgba(0,0,0,.2);margin-top:4px;width:100%}.stat-option{padding:12px;cursor:pointer;transition:background-color .2s;min-height:44px;display:flex;align-items:center;z-index:var(--z-tooltip);user-select:none}.stat-option:hover{background-color:var(--color-primary-light)}.stat-option.selected{background-color:var(--color-info-light);font-weight:500}.search-input{width:100%;padding:var(--space-sm) 10px;border:1px solid var(--border-medium);border-radius:var(--radius-md);font-size:var(--text-md);outline:0;box-sizing:border-box;min-height:44px}.search-btn{position:absolute;top:0;right:0;height:100%;background-color:var(--color-primary);color:var(--text-white);border:none;border-radius:0 var(--radius-md) var(--radius-md) 0;padding:0 12px;cursor:pointer;transition:var(--transition-fast);min-width:44px}.search-btn:hover{background-color:var(--color-primary-dark)}.search-btn:active{background-color:#2471a3}.selected-stats{display:flex;flex-wrap:wrap;gap:6px;min-height:32px;margin-top:var(--space-sm);width:100%}.stat-chip{background-color:var(--color-primary-light);color:#0369a1;border-radius:var(--radius-xl);padding:4px 10px;font-size:var(--text-md);display:flex;align-items:center;gap:var(--radius-sm);min-height:32px}.remove-stat{cursor:pointer;font-weight:700;font-size:var(--text-lg);display:flex;align-items:center;min-width:24px;min-height:24px;justify-content:center}.remove-stat:hover{color:#be123c}.modal{display:none;position:fixed;z-index:var(--z-modal);left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.5);animation:fadeIn .3s;-webkit-overflow-scrolling:touch}.search-results-container{width:100%;display:flex;gap:var(--space-md);box-sizing:border-box;max-height:70vh}.search-results-wrapper{flex:0 0 30%;background-color:var(--bg-gray);padding:var(--space-md);border-radius:var(--radius-md);height:fit-content;max-height:70vh;overflow-y:auto;box-sizing:border-box}.searched-stats-list{display:flex;flex-direction:column;gap:var(--space-sm);width:100%}.searched-stat-item{background-color:var(--bg-white);border-radius:var(--radius-md);padding:var(--space-sm);display:flex;justify-content:space-between;align-items:center;box-shadow:0 1px 3px rgba(0,0,0,.1);cursor:pointer;transition:var(--transition-fast);border-left:3px solid var(--color-primary);min-height:44px}.searched-stat-item:hover{transform:translateY(-2px);box-shadow:0 3px 6px rgba(0,0,0,.15)}.searched-stat-item:active{transform:translateY(0);box-shadow:0 1px 3px rgba(0,0,0,.1)}.searched-stat-name{font-weight:500;color:#334155}.searched-stat-value{background-color:var(--color-info-light);color:var(--color-info);padding:2px var(--space-sm);border-radius:4px;font-weight:600;font-size:var(--text-md)}.search-results{flex:0 0 70%;overflow-y:auto;padding-right:var(--space-sm);max-height:70vh;box-sizing:border-box}.search-results-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:var(--space-md);width:100%;box-sizing:border-box;padding:0;margin:0}.result-group{background-color:var(--bg-gray);border-radius:var(--radius-md);padding:12px;box-shadow:0 2px 8px rgba(0,0,0,.05);width:100%;box-sizing:border-box}.stat-group-title{font-size:var(--space-md);font-weight:600;color:var(--color-info);margin-bottom:var(--space-sm);padding-bottom:6px;border-bottom:1px solid #e2e8f0;width:100%;box-sizing:border-box}.stat-locations{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--space-sm);width:100%;box-sizing:border-box}.stat-location{background-color:var(--bg-white);border-radius:var(--radius-md);padding:var(--space-sm);display:flex;flex-direction:column;gap:3px;cursor:pointer;transition:var(--transition-fast);border:1px solid var(--border-gray);width:100%;height:65px;box-sizing:border-box;touch-action:manipulation}.stat-location:hover{transform:translateY(-3px);box-shadow:0 4px 8px rgba(0,0,0,.08)}.stat-location:active{transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.05)}.location-part{font-weight:500;color:#1e293b;font-size:var(--text-md)}.location-level{color:#3b82f6;font-weight:600;font-size:var(--text-md)}.location-status{font-size:var(--text-sm);border-radius:4px;padding:1px 4px;margin-top:2px;text-align:center}.location-unused .location-status{background-color:var(--bg-gray);color:var(--color-gray)}.location-partial .location-status{background-color:var(--color-warning-light);color:#d97706}.location-complete .location-status{background-color:var(--color-success-light);color:#16a34a}.summary-title{font-weight:600;color:#2d3748;margin-bottom:var(--space-md);font-size:var(--text-lg);border-bottom:2px solid var(--color-primary);padding-bottom:var(--space-sm)}.summary-stats{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:var(--space-sm)}.summary-stat-badge{background-color:var(--color-primary);color:var(--text-white);padding:3px var(--space-sm);border-radius:var(--radius-xl);font-size:var(--text-sm);font-weight:500;display:flex;align-items:center;gap:var(--radius-sm);min-height:32px}.summary-stat-badge strong{background-color:rgba(255,255,255,.2);border-radius:3px;padding:1px 3px;font-size:var(--text-sm)}.resource-requirement{margin-top:var(--space-sm);background-color:var(--bg-white);padding:var(--space-sm);border-radius:var(--radius-md);width:100%}.resource-req-title{font-size:var(--text-md);font-weight:600;margin-bottom:var(--radius-sm);color:#334155}.resource-req-items{display:flex;gap:var(--space-md);flex-wrap:wrap;width:100%}.resource-req-item{display:flex;align-items:center;gap:var(--radius-sm);font-size:var(--text-md);color:var(--text-secondary);min-height:32px}.optimize-container{width:100%;display:flex;gap:var(--space-md);box-sizing:border-box;max-height:70vh}.optimize-description{flex:0 0 30%;background-color:var(--bg-gray);padding:var(--space-md);border-radius:var(--radius-md);font-size:var(--text-md);color:#334155;line-height:1.5;box-sizing:border-box;height:fit-content;max-height:70vh;overflow-y:auto}.optimize-results-container{flex:0 0 70%;overflow-y:auto;padding-right:10px;max-height:70vh;box-sizing:border-box}.preset-summary{background-color:var(--bg-gray);border-radius:var(--radius-md);padding:var(--space-md);margin-bottom:var(--space-md);width:100%;box-sizing:border-box}.preset-header h4{font-size:var(--text-lg);margin:0 0 var(--space-sm) 0;color:var(--text-primary)}.preset-stats{display:flex;flex-wrap:wrap;gap:6px}.preset-resources{background-color:var(--bg-white);padding:var(--space-sm) 12px;border-radius:var(--radius-md);margin-top:var(--space-sm);width:100%;box-sizing:border-box}.preset-part{background-color:var(--bg-gray);border-radius:var(--radius-md);padding:12px;margin-bottom:var(--space-md);width:100%;box-sizing:border-box}.preset-part-header h4{font-size:var(--text-lg);margin:0 0 var(--space-sm) 0;color:var(--color-info);font-weight:600;padding-bottom:var(--radius-sm);border-bottom:1px solid #e2e8f0;width:100%;box-sizing:border-box}.preset-levels{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px;width:100%;box-sizing:border-box}.preset-level{background-color:var(--bg-white);border-radius:var(--radius-md);padding:var(--space-sm);box-shadow:0 1px 3px rgba(0,0,0,.05);width:100%;box-sizing:border-box}.preset-level-header h5{margin:0 0 var(--space-sm) 0;font-size:var(--text-md);font-weight:600;color:#334155;width:100%;box-sizing:border-box}.preset-stats-list{display:flex;flex-direction:column;gap:6px;width:100%;box-sizing:border-box}.preset-stat{display:flex;justify-content:space-between;align-items:center;padding:var(--space-sm) 10px;border-radius:4px;cursor:pointer;transition:var(--transition-fast);background-color:#f9fafb;border-left:3px solid var(--border-gray);width:100%;box-sizing:border-box;min-height:44px}.preset-stat:hover{background-color:var(--bg-gray);transform:translateY(-2px);box-shadow:0 2px 5px rgba(0,0,0,.05)}.preset-stat:active{transform:translateY(0);box-shadow:none}.preset-stat.status-unused{border-left-color:var(--text-light)}.preset-stat.status-partial{border-left-color:var(--color-warning-dark)}.preset-stat.status-complete{border-left-color:var(--color-success)}.preset-stat-info{display:flex;flex-direction:column}.preset-stat-name{font-weight:500;font-size:var(--text-md);color:#334155}.preset-stat-max{font-size:var(--text-sm);color:var(--color-info);font-weight:600}.preset-stat-status{font-size:var(--text-sm);padding:2px 6px;border-radius:4px;background-color:var(--bg-gray);color:var(--color-gray)}.status-unused .preset-stat-status{background-color:var(--bg-gray);color:var(--color-gray)}.status-partial .preset-stat-status{background-color:var(--color-warning-light);color:#d97706}.status-complete .preset-stat-status{background-color:var(--color-success-light);color:#16a34a}.optimize-buttons{display:flex;justify-content:flex-end;gap:12px;margin-top:var(--space-md);width:100%;box-sizing:border-box}.apply-btn{background-color:var(--color-success);color:var(--text-white);border:none;border-radius:var(--radius-md);padding:var(--space-sm) 16px;font-weight:600;cursor:pointer;transition:var(--transition-fast);min-height:44px;touch-action:manipulation}.apply-btn:hover{background-color:var(--color-success-dark)}.apply-btn:active{background-color:#047857;transform:scale(.98)}.cancel-btn{background-color:var(--border-gray);color:var(--text-secondary);border:none;border-radius:var(--radius-md);padding:var(--space-sm) 16px;font-weight:600;cursor:pointer;transition:var(--transition-fast);min-height:44px;touch-action:manipulation}.cancel-btn:hover{background-color:#d1d5db;color:var(--color-gray-dark)}.cancel-btn:active{background-color:#9ca3af;transform:scale(.98)}.priority-stat{background-color:var(--color-info-light);color:var(--color-info);padding:2px 6px;border-radius:4px;font-size:var(--text-sm);font-weight:500;display:flex;align-items:center;gap:3px;min-height:32px}.priority-stat strong{color:var(--color-success);background-color:#ecfdf5;border-radius:3px;padding:1px 2px;font-size:var(--text-sm)}.compact-group{margin-bottom:var(--space-sm);border:1px solid #e0e0e0;border-radius:var(--radius-md);overflow:hidden;background-color:var(--bg-white);box-shadow:0 2px 4px rgba(0,0,0,.05)}.compact-stat-title{background-color:var(--color-primary);color:var(--text-white);margin:0;padding:var(--space-sm) var(--space-md);display:flex;justify-content:space-between;align-items:center;font-size:.95rem;font-weight:600;cursor:pointer;user-select:none;position:relative}.compact-stat-title:hover{background-color:var(--color-primary-dark)}.stat-name-section{display:flex;align-items:center;gap:6px}.toggle-icon{display:inline-block;width:16px;height:16px;text-align:center;line-height:16px;font-size:var(--text-xs);transition:transform .3s}.stat-group-content{transition:max-height .3s ease-out;max-height:1000px;overflow:hidden}.part-section{border-top:1px solid #e0e0e0}.part-header{background-color:#f5f5f5;padding:6px var(--space-md);font-weight:700;display:flex;justify-content:space-between;font-size:.85rem}.stat-info{display:flex;align-items:center;gap:var(--space-sm);white-space:nowrap}.stat-total-value{font-weight:700;font-size:.9em;padding:2px 6px;border-radius:4px}.compact-locations{width:100%;display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--space-sm);box-sizing:border-box}.compact-location{box-sizing:border-box;background-color:var(--bg-white);border-radius:var(--radius-md);padding:6px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer;transition:var(--transition-fast);box-shadow:0 1px 2px rgba(0,0,0,.05);border:1px solid var(--border-gray);height:60px;touch-action:manipulation}.compact-location:hover{transform:translateY(-2px);box-shadow:0 3px 6px rgba(0,0,0,.1)}.compact-location:active{transform:translateY(0);box-shadow:0 1px 2px rgba(0,0,0,.05)}.loc-header{width:100%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}.loc-part{font-weight:500;font-size:var(--text-sm);color:#334155;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:60%}.loc-level{font-size:var(--text-sm);font-weight:600;color:#3b82f6}.loc-details{width:100%;display:flex;justify-content:center;align-items:center;margin-top:3px;background-color:#ecfdf5;border-radius:4px;padding:4px 0;box-sizing:border-box}.loc-max-value{font-size:var(--text-sm);font-weight:600;color:var(--color-success)}.location-unused .loc-details{background-color:#f5f5f5}.location-unused .loc-max-value{color:var(--color-gray)}.location-partial .loc-details{background-color:var(--color-primary-light)}.location-partial .loc-max-value{color:var(--color-info)}.location-complete .loc-details{background-color:var(--color-secondary-light)}.highlight-group{box-shadow:0 0 10px var(--color-primary);animation:pulse 1.5s}.stat-count{font-size:.85em;color:#d5dfed;font-weight:400}.no-matches{padding:12px;text-align:center;color:var(--text-light);font-style:italic;width:100%;box-sizing:border-box}.compact-results{font-size:.95rem;width:100%}.compact-stat-title{background-color:var(--color-primary);color:var(--text-white);margin:0;padding:var(--space-sm) var(--space-md);display:flex;justify-content:space-between;align-items:center;font-size:.95rem;font-weight:600;cursor:pointer;user-select:none;position:relative}.image-container,.image-container-grid,.image-container-grouped{padding:var(--space-md);width:100%;box-sizing:border-box;margin:0 auto}.image-container{display:flex;flex-direction:column;gap:var(--space-lg);margin:0 auto}.image-container-grouped{display:flex;flex-direction:column;gap:25px;max-width:1400px;margin-bottom:var(--space-xl)}.info-content-section{max-width:1200px;margin:var(--space-xl) auto var(--space-xl) auto;padding:0 var(--space-md);box-sizing:border-box}.info-content-section .content-block{background-color:var(--bg-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);padding:var(--space-xl);line-height:1.8;color:var(--text-secondary)}.info-content-section h2{font-size:var(--text-xxl);color:var(--color-primary-dark);margin-bottom:var(--space-lg);padding-bottom:var(--space-sm);border-bottom:2px solid var(--color-primary)}.info-content-section h3{font-size:var(--text-lg);color:var(--text-primary);margin-top:var(--space-lg);margin-bottom:var(--space-md);padding-bottom:var(--space-xs);border-bottom:1px dashed var(--border-medium)}.info-content-section p{margin-bottom:var(--space-md)}.info-content-section ul{list-style-type:disc;padding-left:var(--space-lg);margin-bottom:var(--space-md)}.info-content-section ul li{margin-bottom:var(--space-sm);font-size:var(--text-md)}.info-content-section strong{color:var(--color-primary);font-weight:700}@media (max-width:768px){.info-content-section{margin:var(--space-lg) auto;padding:0 var(--space-sm)}.info-content-section .content-block{padding:var(--space-lg)}.info-content-section h2{font-size:var(--text-xl)}.info-content-section h3{font-size:var(--text-md)}.info-content-section ul{padding-left:var(--space-md)}}.img-wrapper{display:flex;flex-direction:column;align-items:center;border-radius:var(--radius-sm);padding:4px;transition:var(--transition-normal);position:relative;text-align:center;border:1px solid transparent;box-sizing:border-box}.img-wrapper:hover{background-color:#f0f7ff;transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,0,0,.08);border-color:var(--border-primary)}.img-wrapper img{width:100%;object-fit:contain;border-radius:var(--radius-md);cursor:pointer;display:block;background-color:var(--bg-white);padding:4px;border:1px solid var(--border-light);box-sizing:border-box}.img-name{font-size:var(--text-xs);color:var(--text-primary);text-align:center;width:100%;word-break:keep-all;font-weight:500;line-height:1.2;min-height:24px;display:flex;align-items:center;justify-content:center}.influence-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--space-lg)}.influence-group{background-color:var(--bg-white);border-radius:var(--radius-lg);padding:var(--space-md);box-shadow:var(--shadow-sm);display:flex;flex-direction:column;min-width:0}.header-wrapper{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);border-bottom:1px solid var(--border-light);padding-bottom:var(--space-sm)}.header-wrapper .influence-icon{width:24px;height:24px;object-fit:contain;flex-shrink:0;border-radius:var(--radius-round)}.influence-header{font-size:var(--text-md);font-weight:600;color:var(--text-primary);margin:0;text-align:center;line-height:1.2}.influence-count{font-size:.9em;color:var(--text-secondary);margin-left:4px}.influence-items{display:grid;grid-template-columns:repeat(auto-fill,minmax(50px,1fr))}.level25-indicator{position:absolute;right:10px;top:5px;width:35px;height:35px;background:#000;color:var(--text-white);border-radius:var(--radius-round);display:flex;align-items:center;justify-content:center;font-size:var(--text-xs);font-weight:700;z-index:5;box-shadow:0 0 3px rgba(0,0,0,.5);opacity:0;transition:opacity .2s ease-in}.level25-indicator span{line-height:1;display:block}.img-box{position:relative;display:inline-block;border-radius:16px;transition:all .4s cubic-bezier(.165, .84, .44, 1);box-shadow:0 4px 12px rgba(0,0,0,.08);box-sizing:border-box}.img-box img{display:block;width:100%;transition:all .4s cubic-bezier(.165, .84, .44, 1);border-radius:14px}.img-box:hover{transform:translateY(-8px);box-shadow:0 12px 24px rgba(0,0,0,.12)}.img-box.registration-completed:not(.bond-completed)::before{content:'';position:absolute;inset:0;pointer-events:none;border-style:solid;border-width:0;border-left-width:2px;border-top-width:2px;border-bottom-width:2px;border-image-source:linear-gradient(to right,#FF4500 0%,#FF7F50 49%,transparent 50%);border-image-slice:1;border-image-outset:0;clip-path:polygon(0 0,50% 0,50% 100%,0 100%);z-index:1;box-shadow:0 0 10px rgba(255,69,0,.6)}.img-box.bond-completed:not(.registration-completed)::before{content:'';position:absolute;inset:0;pointer-events:none;border-style:solid;border-width:0;border-right-width:2px;border-top-width:2px;border-bottom-width:2px;border-image-source:linear-gradient(to left,#FFD700 0%,#FFA500 49%,transparent 50%);border-image-slice:1;border-image-outset:0;clip-path:polygon(50% 0,100% 0,100% 100%,50% 100%);z-index:1;box-shadow:0 0 10px rgba(255,215,0,.6)}.img-box.registration-completed.bond-completed{border:2px solid transparent;background-image:linear-gradient(white,#fff),conic-gradient(from var(--angle),#ff4500,#ff8c00,gold,#ff4500);background-origin:border-box;background-clip:content-box,border-box;animation:rotate-border 8s linear infinite;box-shadow:0 0 15px rgba(255,140,0,.4)}.img-box:active{transform:scale(.98);box-shadow:0 2px 8px rgba(0,0,0,.15)}.modal-header{display:flex;align-items:center;margin-bottom:var(--space-lg);padding-bottom:var(--space-lg);border-bottom:1px solid #e0e0e0;gap:var(--space-lg)}.modal-img-preview{width:80px;height:80px;object-fit:contain;border-radius:var(--radius-md);border:1px solid #eee;padding:var(--radius-sm);background:#fcfcfc;flex-shrink:0}.title-area{flex:1;display:flex;flex-direction:column;gap:var(--space-sm);min-width:0}.modal h3{color:var(--text-primary);font-size:22px;font-weight:600;margin:0;display:flex;align-items:center;flex-wrap:wrap;gap:var(--space-sm)}.modal h3 .influence-icon{width:26px;height:26px;object-fit:contain;vertical-align:middle;display:inline-block;margin-bottom:-4px;border-radius:var(--radius-round)}.level-controls{display:flex;align-items:center;gap:var(--space-sm)}.level-controls button{padding:0;font-size:var(--text-xxl);font-weight:700;background-color:var(--color-primary);color:var(--text-white);border:none;border-radius:var(--radius-round);cursor:pointer;transition:var(--transition-fast);width:34px;height:34px;display:flex;justify-content:center;align-items:center;box-shadow:0 3px 7px rgba(52,152,219,.3)}.level-controls button:hover{background-color:var(--color-primary-dark);transform:translateY(-2px) scale(1.05);box-shadow:0 5px 10px rgba(52,152,219,.4)}.level-controls button:active{transform:translateY(0) scale(1);box-shadow:0 1px 3px rgba(52,152,219,.3)}.max-button{border-radius:17px!important;width:auto!important;height:34px!important;padding:0 14px!important;margin-left:var(--space-sm)!important;font-size:var(--text-md)!important;font-weight:700;background-color:var(--color-danger)!important;box-shadow:0 3px 7px rgba(231,76,60,.3)!important;line-height:34px}.max-button:hover{background-color:var(--color-danger-dark)!important;box-shadow:0 5px 10px rgba(231,76,60,.4)!important;transform:translateY(-2px) scale(1.05)}.max-button:active{transform:translateY(0) scale(1);box-shadow:0 1px 3px rgba(231,76,60,.3)!important}.min-button{border-radius:17px!important;width:auto!important;height:34px!important;padding:0 14px!important;margin-right:var(--space-sm)!important;font-size:var(--text-md)!important;font-weight:700;background-color:#74db34!important;color:var(--text-white);border:none;cursor:pointer;transition:var(--transition-fast);box-shadow:0 3px 7px rgba(52,152,219,.3)!important;line-height:34px}.min-button:hover{background-color:var(--color-primary-dark)!important;box-shadow:0 5px 10px rgba(52,152,219,.4)!important;transform:translateY(-2px) scale(1.05)}.min-button:active{transform:translateY(0) scale(1);box-shadow:0 1px 3px rgba(52,152,219,.3)!important}.level-input{font-weight:700;margin:0 var(--space-sm);font-size:var(--text-xl);color:var(--text-primary);background-color:var(--color-primary-light);padding:6px 12px;border-radius:var(--radius-xl);box-shadow:inset 0 1px 4px rgba(0,0,0,.06);border:1px solid #c2dcf3;text-align:center;width:50px;height:36px;box-sizing:border-box;-moz-appearance:textfield}.level-input::-webkit-inner-spin-button,.level-input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}#bindList,#registrationList{list-style-type:none;padding:0;margin:12px 0 0}#bindList li,#registrationList li{padding:10px var(--space-md);margin-bottom:var(--space-sm);background-color:var(--bg-white);border-left:4px solid #5dade2;border-radius:var(--radius-md);font-size:var(--text-md);transition:.25s ease;box-shadow:0 2px 5px rgba(0,0,0,.06);line-height:1.5;color:#333}#bindList li:hover,#registrationList li:hover{background-color:#eaf6ff;transform:translateX(4px) scale(1.01);box-shadow:0 4px 8px rgba(0,0,0,.08);border-left-color:var(--color-primary)}.stats-container b{display:block;margin:0 0 var(--radius-sm) 2px;color:#2c3e50;font-size:var(--text-lg);font-weight:600}.stats-header-container{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm)}.sum-container{align-items:center;background-color:#f5f5f5;padding:3px var(--space-sm);border-radius:var(--radius-md);font-size:var(--text-md);box-shadow:inset 0 1px 3px rgba(0,0,0,.08)}.sum-label{color:#555;margin-right:4px;font-weight:500}.bind-sum-value,.reg-sum-value{font-weight:700;color:var(--color-danger);min-width:30px;text-align:right}.registration-sum .sum-label{color:#16a085}.bind-sum .sum-label{color:#9b59b6}.level25-notice{margin-top:12px;padding:10px var(--space-md);background-color:var(--color-warning-light);border-left:4px solid var(--color-warning);border-radius:var(--radius-md);font-size:var(--text-sm);color:#856404;line-height:1.5}.ranking-container{margin:var(--space-lg) auto;max-width:1200px;padding:0 var(--space-md)}.ranking-header{display:flex;justify-content:space-between;margin-bottom:var(--space-md)}.ranking-title{font-size:var(--text-xxl);font-weight:700;margin-bottom:var(--space-sm)}.last-updated{font-size:var(--text-sm);color:var(--text-secondary);margin-bottom:var(--space-sm)}.filters-container{display:flex;justify-content:center;flex-wrap:wrap;gap:var(--radius-sm);background-color:#f0f2f5;padding:var(--space-md);border-radius:var(--radius-md);margin-bottom:var(--space-md)}.filter-section{display:flex;align-items:center;margin-right:var(--space-lg)}.filter-label{margin-right:var(--radius-sm);font-weight:700;color:var(--text-primary)}.filter-buttons{display:flex;gap:5px}.filter-btn{padding:6px 12px;border:1px solid var(--border-medium);border-radius:var(--radius-sm);background-color:var(--bg-white);cursor:pointer;font-size:var(--text-md);transition:var(--transition-fast)}.filter-btn.active{background-color:var(--color-primary);color:var(--text-white);border-color:var(--color-primary-dark);font-weight:700}.filter-btn.active[data-grade=all]{background-color:var(--color-warning);color:var(--text-white);border-color:var(--color-warning)}.filter-btn.active[data-grade=legendary]{background-color:red;color:var(--text-white);border-color:red}.filter-btn:not(.active):hover{background-color:var(--color-primary-light);border-color:var(--color-primary)}.info-message{padding:var(--space-md);background-color:var(--color-primary-light);border-radius:var(--radius-sm);border-left:5px solid var(--color-info);margin-bottom:var(--space-md)}.info-message h3{margin-top:0;color:#1565c0}.filter-notice{padding:var(--radius-sm);margin:var(--radius-sm) 0;background-color:var(--color-warning-light);border-left:4px solid var(--color-warning-dark);border-radius:3px}.filter-notice p{margin:0;color:var(--text-primary);font-size:var(--text-md)}.no-data-message{padding:var(--space-lg);text-align:center;background:#f8f8f8;border-radius:var(--radius-sm);margin:var(--space-md) 0}.ranking-table-container{overflow-x:auto}.rank-badge{display:inline-block;width:36px;height:36px;border-radius:var(--radius-round);background-color:var(--color-primary);color:var(--text-white);line-height:36px;text-align:center;font-weight:700;font-size:var(--text-lg)}.rank-badge.rank-1{background-color:gold;color:#333}.rank-badge.rank-2{background-color:silver;color:#333}.rank-badge.rank-3{background-color:#cd7f32}.spirits-container{display:flex;flex-wrap:wrap;gap:2px}.spirit-image{width:40px;height:40px;border-radius:3px;border:1px solid var(--border-light);object-fit:contain;cursor:pointer;transition:var(--transition-fast)}.spirit-image:hover{transform:scale(1.1);box-shadow:0 0 5px rgba(52,152,219,.5)}.spirit-image.top-rank{border-color:gold}.faction-tags{display:flex;flex-wrap:wrap;gap:3px}.grade-tag{display:inline-block;margin:2px;padding:3px 6px;border-radius:3px;font-size:var(--text-sm)}.grade-tag-legend{background-color:red;color:var(--text-white)}.grade-tag-immortal{background-color:gold;color:var(--text-white)}.faction-tag{display:inline-block;margin:2px;padding:3px 6px;background:var(--bg-white);border-radius:3px;font-size:var(--text-sm)}.faction-icon{width:12px;height:12px;vertical-align:middle;margin-right:3px}.total-score{font-size:var(--text-lg);font-weight:700;color:var(--color-warning-dark)}.score-breakdown{font-size:var(--text-sm);color:var(--text-secondary)}.detail-button{padding:var(--radius-sm) 10px;background:var(--color-primary);color:var(--text-white);border:none;border-radius:var(--radius-sm);cursor:pointer;font-size:var(--text-sm);white-space:nowrap;transition:var(--transition-fast)}.detail-button:hover{background:var(--color-primary-dark);transform:translateY(-2px)}.stat-card{position:relative;display:flex;flex-direction:column;align-items:center;padding:var(--radius-sm);background:var(--bg-lighter);border-radius:var(--radius-sm);box-shadow:var(--shadow-sm);cursor:pointer;transition:var(--transition-fast)}.stat-card:hover{transform:translateY(-2px);z-index:var(--z-normal);box-shadow:var(--shadow-md)}.stat-card.top-1{background:linear-gradient(to bottom,#fff9c4,#fff);border:1px solid gold}.stat-card.top-2{background:linear-gradient(to bottom,#f5f5f5,#fff);border:1px solid silver}.stat-card.top-3{background:linear-gradient(to bottom,#ffe0b2,#fff);border:1px solid #cd7f32}.rank-number{position:absolute;top:-6px;left:-6px;width:22px;height:22px;border-radius:var(--radius-round);background:var(--color-primary);color:var(--text-white);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:var(--text-sm);box-shadow:0 1px 2px rgba(0,0,0,.2)}.stat-card.top-1 .rank-number{background-color:gold;color:#333}.stat-card.top-2 .rank-number{background-color:silver;color:#333}.stat-card.top-3 .rank-number{background-color:#cd7f32;color:var(--text-white)}.spirit-image-container{width:100%;height:60px;display:flex;justify-content:center;align-items:center;margin-bottom:6px}.spirit-name{font-weight:700;text-align:center;margin:4px 0;font-size:var(--text-xs);height:24px;display:flex;align-items:center;justify-content:center;overflow:hidden;line-height:1.2}.spirit-stat{font-size:9px;text-align:center;color:var(--color-warning-dark);font-weight:700}.calculating-wrapper{display:flex;justify-content:center;align-items:center;min-height:300px}.calculating-box{text-align:center;padding:var(--space-xl);background:#f8f8f8;border-radius:var(--radius-md);box-shadow:var(--shadow-sm);max-width:400px}.calculating-spinner{border:5px solid #f3f3f3;border-top:5px solid var(--color-primary);border-radius:var(--radius-round);width:50px;height:50px;animation:spin 1s linear infinite;margin:0 auto var(--space-lg)}.section-title{font-weight:700;margin-bottom:var(--space-sm);margin-left:var(--space-lg);color:#333;border-bottom:1px solid var(--border-medium);padding-bottom:var(--radius-sm)}.section-score{color:#e67e22;font-weight:700}.calculating-spinner-small{border:4px solid #f3f3f3;border-top:4px solid var(--color-primary);border-radius:var(--radius-round);width:20px;height:20px;animation:spin 1s linear infinite;margin:0 auto var(--space-sm)}.cancel-calc-btn{margin-top:var(--space-lg);padding:var(--space-sm) var(--space-lg);background:var(--color-danger);color:var(--text-white);border:none;border-radius:var(--radius-sm);cursor:pointer;font-weight:700}.warning-dialog{padding:var(--space-lg);background:var(--bg-white);border-radius:var(--radius-md);max-width:600px;margin:0 auto}.warning-content{margin:var(--space-lg) 0;padding:var(--space-md);background:var(--color-warning-light);border-left:5px solid var(--color-warning)}.warning-buttons{display:flex;justify-content:center;gap:var(--space-md)}.cancel-btn,.continue-btn{padding:var(--space-sm) 16px;border:none;border-radius:4px;cursor:pointer;font-weight:700}.continue-btn{background:var(--color-secondary);color:var(--text-white)}.cancel-btn{background:var(--color-danger);color:var(--text-white)}.calculating{padding:var(--space-sm);background-color:var(--color-primary-light);color:var(--color-primary);border-left:3px solid var(--color-primary);font-style:italic;text-align:center;margin:var(--space-sm) 0}.processing-message{text-align:center;padding:var(--space-lg);background-color:var(--bg-lighter);border-radius:var(--radius-md);margin-bottom:var(--space-md);font-weight:700;color:var(--color-primary)}.no-bind-warning{margin:var(--space-sm) 0;padding:var(--space-sm) var(--space-md);background-color:var(--bg-lighter);border-left:3px solid #6c757d;font-size:.9em;color:#555}.smart-filtering-info{background-color:var(--bg-lighter);padding:var(--space-lg);border-radius:var(--radius-md);margin-bottom:var(--space-lg);box-shadow:0 2px 10px rgba(0,0,0,.05)}.filtering-phases{display:flex;justify-content:space-between;margin:var(--space-md) 0}.phase{flex:1;text-align:center;padding:var(--space-sm);border-radius:var(--radius-sm);background-color:#e9ecef;margin:0 var(--radius-sm);color:#6c757d;font-size:var(--text-md);position:relative}.phase::after{content:'';position:absolute;right:-15px;top:50%;transform:translateY(-50%);width:0;height:0;border-top:6px solid transparent;border-left:10px solid #e9ecef;border-bottom:6px solid transparent}.phase:last-child::after{display:none}.phase.active{background-color:#007bff;color:var(--text-white);font-weight:700}.phase.active::after{border-left-color:#007bff}.phase.completed{background-color:#28a745;color:var(--text-white)}.phase.completed::after{border-left-color:#28a745}.spirit-category-counts{display:flex;justify-content:space-around;margin:var(--space-md) 0;flex-wrap:wrap}.spirit-count{background-color:var(--color-primary-light);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-xl);font-weight:700;margin:var(--radius-sm)}.filtering-info{background-color:var(--color-warning-light);padding:var(--space-sm);border-radius:var(--radius-sm);font-style:italic;text-align:center;margin:var(--space-sm) 0}.spirits-grid-container{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:6px;margin-top:12px}.spirit-info-item{display:flex;flex-direction:column;align-items:center;padding:var(--radius-sm);border-radius:var(--radius-sm);background-color:var(--bg-lighter);border:1px solid #eee;height:100%}.spirit-info-item img{width:45px;height:45px;object-fit:contain;margin-bottom:3px}.spirit-info-details{width:100%;text-align:center}.spirit-info-name{font-weight:700;font-size:var(--text-sm);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spirit-info-level{font-size:9px;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spirits-stats-table{width:100%;border-collapse:collapse;margin:var(--space-md) 0;font-size:.7rem}.spirits-stats-table td,.spirits-stats-table th{padding:6px 4px;text-align:center;border:1px solid #dee2e6}.spirits-stats-table th{background-color:var(--bg-lighter);font-weight:700}.spirits-stats-table .spirit-thumbnail{width:30px;height:30px;object-fit:contain;margin-bottom:2px}.stat-grid-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:6px;margin-top:var(--space-sm)}.spirit-image{max-width:80%;max-height:55px;object-fit:contain}.rank-number{position:absolute;top:0;left:0;background-color:var(--color-primary);color:var(--text-white);font-size:var(--text-xs);font-weight:700;padding:2px 5px;border-radius:3px 0 3px 0}.top-1 .rank-number{background-color:#f39c12}.top-2 .rank-number{background-color:#95a5a6}.top-3 .rank-number{background-color:#d35400}.temp-loading-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal)}.calculating-wrapper{display:flex;justify-content:center;align-items:center;min-height:300px}.calculating-box{text-align:center;padding:var(--space-xl);background:#f8f8f8;border-radius:var(--radius-md);box-shadow:0 2px 10px rgba(0,0,0,.1);max-width:400px}.progress-container{display:flex;flex-direction:column;gap:5px}.progress-bar-container{position:relative;height:30px;background-color:#f0f0f0;border-radius:10px;overflow:hidden}.progress-bar{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#103b45,#103b45);border-radius:10px;transition:width .3s;z-index:var(--z-normal)}.progress-character{position:absolute;top:0;left:0;width:30px;height:30px;background-image:url('/assets/img/walking.gif');background-size:contain;background-repeat:no-repeat;background-position:center;z-index:2;transition:left .3s}.container{display:flex;flex-wrap:wrap;max-width:1200px;margin:var(--space-lg) auto;gap:var(--space-md);padding:0 var(--space-md);box-sizing:border-box;width:100%}#app-container{position:relative}.left{flex:1;min-width:280px;background-color:var(--bg-white);border-radius:var(--radius-md);padding:12px;box-shadow:0 2px 8px rgba(0,0,0,.05);overflow-y:auto}.right{flex:1;min-width:300px;background-color:var(--bg-white);border-radius:var(--radius-md);padding:var(--space-md);box-shadow:0 2px 8px rgba(0,0,0,.05)}.right h2{color:var(--text-primary);margin:0 0 var(--space-md) 0;padding-bottom:var(--space-sm);border-bottom:2px solid var(--color-primary);font-size:var(--text-xl)}.exp-type-tabs{display:flex;gap:var(--space-sm);margin-bottom:12px}.calc-btn{margin-top:var(--space-sm);flex:1;display:flex;align-items:center;min-width:80px}.calc-btn button{display:flex;justify-content:center;width:50%;margin:0 auto;padding:var(--space-sm) 12px;font-size:var(--text-md);font-weight:500;color:var(--text-white);background-color:var(--color-primary);border:none;border-radius:var(--radius-md)}.calc-btn button:hover{background-color:var(--color-primary-dark);transform:translateY(-1px);box-shadow:0 3px 6px rgba(52,152,219,.3)}.calc-btn button:active{transform:translateY(1px);box-shadow:0 1px 2px rgba(52,152,219,.3)}.results-panel{display:flex;gap:12px;margin-top:var(--space-md);opacity:1;transition:opacity .3s ease}.results-panel.hidden{display:none}.result-column{flex:1;min-width:0}td,th{padding:var(--radius-sm) 6px;text-align:center;border-bottom:1px solid #e0e0e0}th{background-color:var(--color-primary-light);color:#2c3e50;font-weight:600;position:sticky;top:0;z-index:var(--z-normal)}td:first-child,th:first-child{width:40px;font-weight:600}td:last-child{text-align:right}.left::-webkit-scrollbar{width:6px}.left::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.left::-webkit-scrollbar-thumb{background:#c1d5e0;border-radius:3px}.left::-webkit-scrollbar-thumb:hover{background:#a3c2d6}input,select{width:100%;padding:6px var(--space-sm);border:1px solid var(--border-medium);border-radius:var(--radius-sm);font-size:var(--text-md);transition:var(--transition-fast);box-sizing:border-box}input:focus,select:focus{border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(52,152,219,.15);outline:0}#maxLevel,#required{background-color:var(--bg-white);border:1px solid #e0e0e0;border-radius:var(--radius-md);padding:12px;font-size:var(--text-md);height:100%;box-shadow:0 1px 3px rgba(0,0,0,.05);min-height:150px;transition:var(--transition-normal)}#required{border-top:3px solid var(--color-primary)}#maxLevel{border-top:3px solid var(--color-secondary)}.result-box.flash{animation:flash-animation .8s}.result-title{font-weight:700;color:#2c3e50;margin:0 0 var(--space-sm) 0;font-size:var(--space-md);border-bottom:1px solid #eee;padding-bottom:var(--radius-sm)}.required-title{color:var(--color-primary)}.max-title{color:var(--color-secondary)}.result-section{margin-bottom:var(--space-sm)}.sub-title{font-weight:600;font-size:var(--text-md);margin:var(--space-sm) 0 4px;color:#555}.data-row{display:flex;justify-content:space-between;align-items:center;margin:3px 0}.soul-icon{width:14px;height:14px;vertical-align:middle;margin-right:3px}.data-value{font-weight:500}.sufficient{color:var(--color-secondary);font-weight:700}.insufficient{color:var(--color-danger);font-weight:700}.highlight{background-color:#f5f5f5;border-radius:4px;padding:2px 5px}.type-badge{display:inline-block;background-color:#f5f5f5;color:#333;padding:2px var(--space-sm);border-radius:10px;font-size:var(--text-sm);margin-left:6px;border:1px solid #e0e0e0;font-weight:600;vertical-align:middle}.required-title .type-badge{background-color:var(--color-primary-light);border-color:#bbdefb;color:#1565c0}.max-title .type-badge{background-color:var(--color-secondary-light);border-color:#c8e6c9;color:#2e7d32}.stat-selector-container{align-items:center!important;gap:var(--radius-sm);flex-wrap:nowrap!important}.stat-selector-container label{white-space:nowrap;font-size:.875rem}@media screen and (min-width:769px){.mobile-ad{display:none!important}.desktop-ad{display:flex!important}.ad-row{display:flex}}@media (max-width:1024px){.layout-container{padding:0 var(--space-lg)}.equipment-section,.level-info-section,.summary-panel{width:100%}.panel{padding:var(--space-md)}h3{font-size:11px;margin-bottom:6px;padding-bottom:5px}.button-grid{gap:3px;flex-wrap:nowrap;overflow-x:auto;padding-bottom:5px;margin-bottom:var(--space-sm)}.selector-btn.equip-btn{flex:0 0 auto;min-width:auto;font-size:var(--text-xs);padding:6px var(--space-sm);white-space:nowrap}.equip-btn{min-width:calc(33.333% - 6px)}.tool-section{flex-direction:column}.preset-section{flex-direction:row}.preset-section,.search-section{width:100%}.stats-grid{grid-template-columns:repeat(2,1fr);gap:var(--space-sm)}.optimize-container,.search-results-container{flex-direction:column}.optimize-description,.search-results-wrapper{flex:0 0 100%;max-height:30vh;margin-bottom:var(--space-md)}.optimize-results-container,.search-results{flex:0 0 100%;max-height:40vh;padding-right:0}.influence-row{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--space-md)}}@media (max-width:768px){body{font-size:var(--text-sm)}h1{font-size:1.75rem}h2{font-size:1.25rem}h3{font-size:1.125rem}.d-md-none{display:none!important}.d-md-block{display:block!important}.d-md-flex{display:flex!important}.w-md-100{width:100%!important}.container,.layout-container,.soul-container{gap:var(--space-md);padding:0 var(--space-sm);margin:var(--space-sm) auto}.soul-container>.left{order:2}.soul-container>.right{order:1}.filter-btn,.filter-section{font-size:9px}.equipment-section,.left,.level-info-section,.right{width:100%;font-size:var(--text-sm)}.bond-container{padding:0}.grid-3,.grid-4,.results-container{grid-template-columns:repeat(2,1fr)}.selected-spirits{grid-template-columns:repeat(3,1fr);max-height:calc(60vh - 150px)}.image-container-grid{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:var(--radius-sm);padding:var(--space-sm)}.main-content{flex-direction:column}.left-panel,.right-panel{max-height:none;position:static;margin-bottom:var(--space-lg);padding-bottom:var(--space-lg);overflow-y:visible;width:100%}.main-content .right-panel{display:none}.panel-toggle-container{display:flex;pointer-events:auto}#panelToggleContainer .right-panel{position:relative;max-height:60vh;width:100%;background-color:var(--bg-white);box-shadow:0 -5px 15px rgba(0,0,0,.1);border-radius:var(--radius-lg) var(--radius-lg) 0 0;padding:var(--space-md);transition:transform .4s ease,max-height .4s ease;overflow-y:auto;pointer-events:auto}#panelToggleContainer .right-panel.collapsed{transform:translateY(100%);max-height:0;padding:0;overflow:hidden}.panel{padding:var(--space-md);border-radius:var(--radius-md)}.header{padding:0 var(--space-sm);height:50px}.logo-container{margin-right:var(--space-sm)}.logo{height:32px}.tabs{justify-content:space-around;flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch;justify-content:flex-start}.tab{flex-shrink:0;padding:10px 14px;font-size:var(--text-sm);margin:0 2px}.tab.active::after{height:3px}.sub-tabs{top:50px;padding:6px 0;flex-wrap:nowrap;overflow-x:auto}.sub-tabs .tab{flex-shrink:0;padding:6px 10px;font-size:var(--text-xs);margin:0 2px}.footer-desktop{display:none}.site-footer{padding:var(--space-sm) var(--radius-sm);padding-bottom:60px}.footer-copyright p{font-size:var(--text-sm)}.btn{padding:6px 12px;font-size:var(--text-md);min-height:var(--button-height-mobile)}.btn-lg{padding:var(--space-sm) 16px;font-size:var(--text-md)}.btn-sm{padding:4px var(--space-sm);font-size:var(--text-sm)}#findOptimalBtn{padding:var(--space-sm) 16px;font-size:var(--text-sm)}.calculate-btn-small #findOptimalBtn{padding:6px 10px;font-size:var(--text-sm);width:auto}.clear-selection-btn{padding:4px 12px;font-size:var(--text-sm)}.max-level-btn{padding:4px 10px;font-size:var(--text-sm)}.exp-tab{padding:var(--space-sm) 12px;font-size:var(--text-sm)}.tab-score{font-size:9px}.form-control{padding:6px var(--space-sm);font-size:var(--text-sm)}.level-batch-control{width:auto;gap:var(--radius-sm)}.level-batch-control label{font-size:var(--text-sm)}.level-batch-control input{width:50px;height:30px;font-size:var(--text-md);padding:2px 5px}.level-batch-control button{padding:4px 10px;font-size:var(--text-sm)}.mobile-search-container{display:block;margin-bottom:var(--space-md)}.desktop-search-container{display:none}.toggle-switch{width:45px;height:24px}.toggle-slider:before{height:18px;width:18px}input:checked+.toggle-slider:before{transform:translateX(21px)}.soul-panel{flex-wrap:wrap}.view-toggle-container{padding:0 var(--space-sm);gap:var(--space-sm)}.toggle-label{font-size:var(--text-md)}.card{padding:12px}.selected-spirit-card{padding:var(--radius-sm);height:105px}.selected-spirit-header img{width:36px;height:36px}.selected-spirit-header .spirit-info .spirit-name{font-size:var(--text-xs)}.spirit-level-control{margin:5px 0;width:82%}.spirit-level-control input{width:35px;padding:1px}.remove-spirit{padding:3px;font-size:var(--text-sm)}.calculate-btn-container{margin:var(--space-sm) 0;padding-top:var(--space-sm)}.header-controls{display:flex;flex-wrap:wrap;justify-content:space-between;width:100%;margin-top:var(--space-sm)}.level-buttons{gap:2px}.level-btn{flex:0 0 calc(20% - 2px);padding:3px 1px}.level-text{font-size:var(--text-xs)}.level-status{font-size:8px}.level-progress-container{gap:1px}.level-progress-bar{height:2px}.soul-item input{font-size:var(--text-xs)}.selector-btn{padding:var(--radius-sm) 3px;font-size:var(--text-xs);border-radius:var(--radius-sm)}.soul-item label{font-size:var(--text-xs)}.stat-card{padding:var(--space-sm);margin-bottom:6px}.stat-card h3{font-size:var(--text-sm);margin-bottom:4px}.stat-card p{font-size:var(--text-sm)}.stats-grid{grid-template-columns:repeat(2,1fr)}.value-display{font-size:var(--text-sm)}.modal-content{width:95%;padding:12px;margin:5% auto;max-height:85vh;overflow-y:auto}.modal-header{position:sticky;top:0;background-color:var(--bg-white);z-index:var(--z-normal);padding-top:var(--radius-sm)}.modal-close{top:var(--space-sm);right:var(--space-sm);min-height:36px;min-width:36px}.optimize-container,.search-results-container{overflow:hidden;max-height:unset}.optimize-results-container,.search-results{max-height:60vh}.mobile-clear-button-container{display:flex}#panelToggleContainer .clear-selection-btn{display:none}.influence-row{grid-template-columns:repeat(2,1fr);gap:var(--space-md)}.influence-group{padding:12px}.header-wrapper{gap:6px;margin-bottom:12px;padding-bottom:8px}.header-wrapper .influence-icon{width:20px;height:20px}.influence-header{font-size:var(--text-sm)}.influence-items{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:var(--space-sm)}.img-wrapper{padding:4px}.img-wrapper img{height:55px}.img-name{font-size:9px;min-height:20px}.spirit-modal-header{flex-direction:column;text-align:center;gap:var(--space-sm)}.spirit-modal-image{margin:0 auto}td,th{padding:5px 6px;font-size:var(--text-md)}.tables-container{gap:var(--radius-sm)}.spirits-stats-table{font-size:.75rem}.spirits-stats-table td,.spirits-stats-table th{padding:4px 2px}.spirits-stats-table .spirit-thumbnail{width:25px;height:25px}.spirits-container{display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:min-content;gap:0;width:100%}.spirit-image{width:100%;height:auto;object-fit:contain;max-width:35px;margin:0 auto}.rank-column{width:40px}.faction-column,.score-column{font-size:.8rem}.action-column{width:60px}.detail-button{padding:4px 8px;font-size:.8rem}.score-breakdown{display:none}.ranking-row td{padding:var(--space-sm) 4px}.ranking-table .faction-column{display:block}.soul-container{flex-direction:column}.calc-btn button{font-size:var(--text-sm)}.results-panel{flex-direction:column}}@media (max-width:480px){body{font-size:var(--text-sm)}h1{font-size:1.5rem}h2{font-size:1.125rem}h3{font-size:1rem}.d-sm-none{display:none!important}.d-sm-block{display:block!important}.d-sm-flex{display:flex!important}.w-sm-100{width:100%!important}.container,.layout-container,.soul-container{padding:0 var(--space-xs);margin:var(--space-sm) auto;gap:var(--space-sm)}.panel{padding:var(--space-sm);border-radius:var(--radius-md)}h3{font-size:var(--text-xs);margin-bottom:5px;padding-bottom:4px}.button-grid{flex-wrap:nowrap;overflow-x:auto;padding-bottom:4px;gap:2px;-webkit-overflow-scrolling:touch;margin-bottom:6px}.selector-btn.equip-btn{flex:0 0 auto;padding:5px 6px;font-size:9px;white-space:nowrap;min-height:38px;line-height:1.2}.resource-inputs{display:flex;gap:var(--space-sm);margin-bottom:var(--space-md);width:100%}.resource-input{display:flex;align-items:center;gap:var(--space-sm);flex:1 1 auto;min-width:130px}.resource-input input{min-height:30px;padding:4px var(--space-sm)}.resource-label{font-size:var(--text-sm);color:var(--text-secondary);font-weight:500}.level-buttons{gap:1px}.level-btn{flex:0 0 calc(16.666% - 1px);padding:2px 1px}.level-text{font-size:9px;margin-bottom:0}.level-status{font-size:7px;height:10px}.level-progress-container{gap:1px}.level-progress-bar{height:2px}.selector-btn{padding:var(--radius-sm) 3px;font-size:var(--text-xs);border-radius:var(--radius-sm)}.stat-card{padding:6px;margin-bottom:4px}.stat-card h3{font-size:var(--text-sm);margin-bottom:3px}.stat-card p{font-size:var(--text-xs);line-height:1.3}.value-display{font-size:var(--text-sm)}.modal-content{width:98%;padding:var(--space-sm);margin:2% auto;border-radius:var(--radius-md);max-height:90vh}.modal-header h3{font-size:var(--text-md);padding-right:var(--space-xl)}.close-modal{top:var(--space-sm);right:var(--space-sm);font-size:24px;min-height:32px;min-width:32px}.optimize-description,.search-results-wrapper{max-height:25vh}.optimize-results-container,.search-results{max-height:55vh}.search-results-grid{grid-template-columns:repeat(auto-fill,minmax(170px,1fr))}.result-group{padding:var(--space-sm)}.stat-locations{grid-template-columns:repeat(auto-fill,minmax(80px,1fr))}.stat-location{height:60px;padding:6px}.preset-level{padding:var(--space-sm)}.preset-stat{min-height:40px;padding:6px var(--space-sm)}.preset-btn{padding:6px var(--space-sm);font-size:var(--text-xs);min-height:30px}.search-input{padding:6px var(--space-sm);font-size:var(--text-sm);min-height:36px}.redistribute-btn{min-width:20px;min-height:20px}.action-btn{font-size:var(--text-xs)!important}.boss-btn,.pvp-btn,.search-btn{padding:6px 10px;font-size:var(--text-xs);min-height:30px}.stat-option{font-size:var(--text-sm)!important}.resource-input{font-size:var(--text-sm)!important}.resource-input input{font-size:var(--text-sm)!important;padding:4px 6px}.resource-details,.resource-value{font-size:var(--text-sm)!important;padding:4px 6px}.stat-item span{font-size:var(--text-sm)}.summary-title{font-size:var(--text-sm)}.searched-stat-item span{font-size:var(--text-sm)}.summary-stat-badge{font-size:var(--text-sm)!important}.preset-header h4{font-size:var(--text-sm)!important}.preset-stats span{font-size:var(--text-xs)!important}.preset-stats strong{font-size:9px!important}.resource-req-item span,.resource-req-title{font-size:var(--text-sm)!important}.stat-info span,.stat-name-section,.stat-name-section span{font-size:9px!important}.part-header span{font-size:9px!important}.loc-details span,.loc-header span{font-size:9px!important}.optimize-buttons{display:none}.compact-group{padding:0}.ad-container{padding:0 var(--space-sm)}.header{padding:0 var(--radius-sm);height:45px}.logo-container{margin-right:var(--radius-sm)}.logo{height:28px}.tab{padding:var(--space-sm) 6px;margin:0 2px;font-size:var(--text-sm);border-radius:var(--radius-md)}.sub-tabs{top:45px}.footer-copyright p{font-size:var(--text-xs)}.panel-toggle-button{padding:var(--space-sm) 16px;font-size:var(--text-sm);width:180px}#panelToggleContainer .right-panel{padding:12px}.items-per-page{font-size:var(--text-xs)!important}.items-per-page select{font-size:var(--text-xs)!important}.stat-key,.stat-value{font-size:9px!important}.stats-sum{font-size:var(--text-xs)!important;padding:0}.stats-header{font-size:var(--text-xs)!important}.optimal-score h4{font-size:var(--text-sm)!important}.optimal-score small{font-size:8px!important}.data-submission-request{font-size:9px;padding:var(--space-sm) 10px}.min-btn{width:30px!important}.level-input-container{width:250px}.spirit-modal-title-section h3{font-size:var(--text-sm);margin-bottom:var(--radius-sm);justify-content:center}.tab-content span{font-size:8px}.tab-indicators span{font-size:6px}.influence-row{grid-template-columns:1fr;gap:var(--space-md)}.influence-items{grid-template-columns:repeat(auto-fill,minmax(55px,1fr));gap:6px}.img-wrapper img{height:50px}.img-name{font-size:8px;min-height:18px}.selected-spirits{grid-template-columns:repeat(auto-fill,minmax(82px,1fr))}.spirit-selection{padding:var(--space-sm)}.spirit-selection-header h3{font-size:var(--text-md)}.clear-selection-btn{padding:3px 10px;font-size:var(--text-sm)}.level-batch-control button{padding:4px 10px;margin-top:0;font-size:var(--text-xs)}.spirit-image{max-width:30px}.rank-badge{font-size:.9rem;width:28px;height:28px;line-height:28px}.ranking-title{font-size:var(--text-sm)}.last-updated{font-size:var(--text-xs)}td,th{padding:3px 2px;font-size:var(--text-xs);white-space:nowrap}.tables-container{gap:3px}td:first-child,th:first-child{width:30px}.input-group label,.sub-title{font-size:var(--text-sm)}.result-title{font-size:var(--text-md)}.type-badge{font-size:var(--text-xs);padding:1px 6px}}@media (min-width:1600px){.compact-locations{grid-template-columns:repeat(auto-fill,minmax(110px,1fr))}}@media (max-width:1400px){.compact-locations{grid-template-columns:repeat(auto-fill,minmax(95px,1fr))}}.selection-controls{display:flex;gap:var(--space-sm);margin-right:var(--space-sm)}.selection-controls .btn-sm{padding:4px 10px;font-size:var(--text-sm);min-height:28px}.selected-spirits-header .selection-title{margin:0;font-size:var(--text-lg);font-weight:600;flex-grow:1}.selected-spirit-card .remove-spirit{line-height:16px}.spirit-level-control .level-btn{font-size:var(--text-md);width:20px;height:20px}.spirit-level-control .level-btn.max-btn,.spirit-level-control .level-btn.min-btn{font-size:var(--text-sm)}#optimalModal .modal-content{max-width:1000px;width:95%;padding-right:45px;overflow-x:hidden}.optimal-header{display:flex;justify-content:space-between;align-items:center;background-color:var(--bg-gray);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);margin-bottom:var(--space-md);position:relative}.modal-main-title{font-size:var(--text-md);font-weight:600;color:var(--text-primary);margin:0;border:none;padding:0}.modal-score-display{display:flex;align-items:baseline;gap:var(--space-sm)}.modal-score-display .score-title{font-size:var(--text-md);color:var(--text-secondary)}.modal-score-display .score-value{font-size:var(--text-xxl);font-weight:700;color:var(--color-primary)}.modal-score-display .score-breakdown{font-size:var(--text-sm);color:var(--text-light)}.optimal-score-card{display:none}.history-tabs-container{margin-bottom:var(--space-lg)}.history-tabs{display:flex;gap:var(--radius-sm);justify-content:center}.history-tab{flex:1;max-width:150px;padding:var(--radius-sm) var(--space-sm);border:1px solid var(--border-medium);border-radius:var(--radius-md);cursor:pointer;background-color:var(--bg-white);transition:all .2s ease;text-align:center;position:relative}.history-tab:hover{border-color:var(--color-primary);transform:translateY(-2px);box-shadow:var(--shadow-sm)}.history-tab.active{border-color:var(--color-primary);background-color:var(--color-primary-light);font-weight:700;box-shadow:0 0 0 2px var(--color-primary-light)}.history-tab.best{border-color:var(--color-warning)}.history-tab.best.active{background-color:var(--color-warning-light);box-shadow:0 0 0 2px var(--color-warning-light)}.tab-indicators{position:absolute;top:4px;right:4px;display:flex;gap:3px}.best-marker,.current-marker{font-size:8px;font-weight:700;padding:1px 4px;border-radius:var(--radius-xs);color:var(--text-white)}.current-marker{background-color:var(--color-info)}.best-marker{background-color:var(--color-warning)}.tab-main-info{display:flex;flex-direction:column;align-items:center;gap:2px}.tab-score{font-size:var(--text-lg);font-weight:700;color:var(--color-primary)}.tab-timestamp{font-size:var(--text-xs);color:var(--text-light)}.combination-results-container{background-color:var(--bg-lighter);padding:var(--space-md);border-radius:var(--radius-md);margin-bottom:var(--space-lg)}.spirits-grid-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--radius-sm);justify-content:center}.spirit-info-item{display:flex;flex-direction:column;align-items:center;padding:4px;border-radius:var(--radius-sm);background-color:var(--bg-white);border:1px solid var(--border-light);height:100%;transition:var(--transition-fast)}.spirit-info-item:hover{transform:scale(1.05);box-shadow:var(--shadow-sm)}.spirit-info-item img{width:40px;height:40px;object-fit:contain;margin-bottom:2px}.spirit-info-details{width:100%;text-align:center}.spirit-info-name{font-weight:500;font-size:var(--text-xs);line-height:1.2;height:20px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.spirit-info-level{font-size:9px;color:var(--text-light)}.results-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--space-md);margin-bottom:var(--space-lg)}.results-section{background-color:var(--bg-white);border-radius:var(--radius-md);padding:var(--space-sm);box-shadow:var(--shadow-sm);border-top:3px solid var(--color-primary)}.results-section#optimalFactionEffects{border-top-color:var(--color-secondary)}.results-section#optimalBindEffects{border-top-color:var(--color-warning)}.results-section h4{font-size:var(--text-md);margin:0 0 var(--space-sm) 0;padding-bottom:4px;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.section-score{color:var(--color-info);font-size:1em}.set-info{margin-bottom:var(--space-sm);display:flex;flex-wrap:wrap;gap:4px}.faction-tag,.grade-tag{font-size:var(--text-xs);padding:2px 5px;border-radius:var(--radius-xs)}.grade-tag-legend{background-color:#e53935;color:#fff}.grade-tag-immortal{background-color:#f1c40f;color:#fff}.faction-tag{background-color:var(--bg-gray)}.faction-icon{width:12px;height:12px;vertical-align:-2px;margin-right:2px}.effects-list{list-style:none;padding:0;margin:0;font-size:var(--text-sm)}.effects-list li{display:flex;justify-content:space-between;padding:3px 0;border-bottom:1px solid var(--bg-lighter)}.effects-list li:last-child{border-bottom:none}.stat-name{color:var(--text-secondary)}.stat-value{font-weight:500;color:var(--text-primary)}.spirit-details-container{margin-top:var(--space-lg);overflow:auto}.spirit-details-container h4{font-size:var(--text-lg);margin-bottom:var(--space-sm)}.spirits-stats-table .spirit-thumbnail{width:24px;height:24px}.spirits-stats-table .spirit-table-name{display:block;font-size:10px;font-weight:400;margin-top:2px}.spirits-stats-table td,.spirits-stats-table th{padding:4px;font-size:var(--text-xs)}@media (max-width:768px){.results-container{grid-template-columns:repeat(2,1fr)}#optimalModal .modal-content{padding-right:var(--space-md)}.optimal-header{flex-direction:column;align-items:flex-start;gap:var(--space-sm)}}.effects-list li.stat-damage-resistance,.spirits-stats-table tr.stat-damage-resistance{background-color:var(--color-primary-light);border-left:3px solid var(--color-primary);padding-left:var(--space-sm)}.effects-list li.stat-damage-resistance-penetration,.spirits-stats-table tr.stat-damage-resistance-penetration{background-color:var(--color-danger-light);border-left:3px solid var(--color-danger);padding-left:var(--space-sm)}.effects-list li.stat-pvp-defense-percent,.spirits-stats-table tr.stat-pvp-defense-percent{background-color:var(--color-success-light);border-left:3px solid var(--color-success);padding-left:var(--space-sm)}.effects-list li.stat-pvp-damage-percent,.spirits-stats-table tr.stat-pvp-damage-percent{background-color:var(--color-warning-light);border-left:3px solid var(--color-warning);padding-left:var(--space-sm)}.spirits-stats-table tr.stat-damage-resistance th,.spirits-stats-table tr.stat-damage-resistance-penetration th,.spirits-stats-table tr.stat-pvp-damage-percent th,.spirits-stats-table tr.stat-pvp-defense-percent th{background-color:inherit}.spirits-stats-table .stat-total-header{background-color:var(--color-gray-light);color:var(--color-gray-dark);font-weight:700}.spirits-stats-table .stat-total{font-weight:700;background-color:var(--bg-lighter);color:var(--text-primary)}.spirits-stats-table tr.stat-damage-resistance .stat-total{color:var(--color-primary-dark)}.spirits-stats-table tr.stat-damage-resistance-penetration .stat-total{color:var(--color-danger-dark)}.spirits-stats-table tr.stat-pvp-defense-percent .stat-total{color:var(--color-success-dark)}.spirits-stats-table tr.stat-pvp-damage-percent .stat-total{color:var(--color-warning-dark)}.btn.view-ranking-details{padding:4px 8px;font-size:var(--text-xs);min-height:24px;line-height:1;border-radius:var(--radius-sm)}.ranking-table .action-column{width:80px;text-align:center;vertical-align:middle;padding:var(--space-sm) var(--radius-sm)}.ranking-table th.action-column{white-space:nowrap}@media (max-width:768px){.ranking-table .action-column{width:60px;padding:4px 2px}.btn.view-ranking-details{padding:2px 4px;font-size:8px;min-height:20px}.ranking-table td,.ranking-table th{padding:3px 2px}}.kakao-gift-btn{background-color:#ffeb00;color:#3c1e1e;padding:var(--radius-sm) 12px;border-radius:4px;font-weight:500;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;gap:6px;margin:0 var(--space-sm);transition:background-color .3s ease,transform .2s ease;white-space:nowrap;min-height:36px}.kakao-gift-btn:hover{background-color:#fee500;transform:translateY(-2px);box-shadow:0 3px 8px rgba(0,0,0,.1)}.kakao-gift-btn:active{transform:translateY(0);box-shadow:0 1px 3px rgba(0,0,0,.1)}.ad-container.mobile-kakao-ad{display:none}@media (max-width:768px){.ad-container.desktop-kakao-ad{display:none}.ad-container.mobile-kakao-ad{display:flex}.ad-container{min-height:50px;margin:var(--space-sm) auto}}.kakao-ad-modal-container.mobile-modal-ad{display:none}@media (max-width:768px){.kakao-ad-modal-container.desktop-modal-ad{display:none}.kakao-ad-modal-container.mobile-modal-ad{display:flex}.kakao-ad-modal-container{min-height:50px;margin:var(--space-sm) auto}}